var _s=Object.defineProperty;var ds=(u,t,e)=>t in u?_s(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e;var k=(u,t,e)=>(ds(u,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const ps="data:image/svg+xml,%3csvg%20viewBox='0%200%2052%2090'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M32.2001%2090H19.4001V77.1H12.9001V64.3H6.5001V51.4H0.100098V38.6H19.4001V0H32.2001V38.6H51.5001V51.4H45.1001V64.3H38.6001V77.1H32.2001V90Z'%20fill='white'/%3e%3c/svg%3e",ms="data:image/svg+xml,%3csvg%20viewBox='0%200%2091%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.399902%2032.3998V19.5998H13.2999V13.0998H26.0999V6.69981H38.9999V0.299805H51.7999V19.5998H90.3999V32.3998H51.7999V51.6998H38.9999V45.2998H26.0999V38.8998H13.2999V32.3998H0.399902Z'%20fill='white'/%3e%3c/svg%3e",gs="data:image/svg+xml,%3csvg%20viewBox='0%200%2091%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M90.2%2019.5998V32.3998H77.3V38.8998H64.5V45.2998H51.5999V51.6998H38.7999V32.3998H0.199951V19.5998H38.7999V0.299805H51.5999V6.69981H64.5V13.0998H77.3V19.5998H90.2Z'%20fill='white'/%3e%3c/svg%3e",vs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20x='0px'%20y='0px'%20viewBox='0%200%20100%20125'%20fill='%23fff'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M82.5,37.5v-5v-5h-5v-5h-5v-5h-5h-5v-5h-5h-5h-5h-5h-5v5h-5h-5v5h-5v5h-5v5v5h-5v5v5v5v5v5h5v5v5h5v5h5v5h5h5v5h5h5h5h5h5%20v-5h5h5v-5h5v-5h5v-5v-5h5v-5v-5v-5v-5v-5H82.5z%20M37.5,32.5h5h0v5v5v5v5v5v5v5h0h-5h-5v-5v-5v-5v-5v-5v-5v-5H37.5z%20M62.5,67.5h-5h0%20v-5v-5v-5v-5v-5v-5v-5h0h5h5v5v5v5v5v5v5v5H62.5z'/%3e%3c/g%3e%3c/svg%3e",ys="data:image/svg+xml,%3csvg%20viewBox='0%200%2086%2090'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M83%2032.5V30H80.5V27.5H78H75.5V30H73H70.5V32.5H68V35H65.5V37.5H68V40V45V52.5V55H65.5V60H63V62.5H60.5V65H58V67.5H55.5V70H50.5H45.5V72.5H40.5V70H33V67.5H30.5H28V65H25.5V62.5H23V57.5H20.5V50H18V40H20.5V35V32.5H23V30H25.5V27.5H28V25H33H35.5V22.5H43V30H45.5H48V27.5H53V25H58V22.5H60.5V20H65.5V17.5H68V15V12.5H65.5V10H60.5V7.5H55.5V5H53V2.5H48V0H45.5H43V5H35.5H33V7.5H25.5V10H20.5V12.5H18V15H15.5V17.5H13V20H10.5V22.5H8V25H5.5V27.5V30H3V37.5H0.5V50H3V60H5.5V67.5H8V70H10.5V75H13V77.5H15.5V80H18V82.5H20.5V85H25.5V87.5H30.5H38V90H43H45.5V87.5H58V85H63V82.5H68V80H70.5V77.5H73V75H75.5V72.5H78V67.5H80.5V62.5H83V55H85.5V35H83V32.5Z'%20fill='white'/%3e%3c/svg%3e",ws="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23fff'%20version='1.1'%3e%3cpath%20d='M19,8V7h-1V6h-1V5h-1h-1h-1h-1h-1h-1h-1H9H8H7v1H6v1H5v1H4v1v1v1v1v1h1v1v1h1v1h1v1v1v1h1h1v-1v-1h1h1v1v1h1h1v-1v-1h1h1v1%20v1h1h1v-1v-1v-1h1v-1h1v-1v-1h1v-1v-1v-1V9V8H19z%20M17,13h-1h-1v-1h-1v-1v-1h1h1h1v1v1V13z%20M11,15v-1v-1h1h1v1v1h-1H11z%20M7,12v-1v-1%20h1h1h1v1v1H9v1H8H7V12z'/%3e%3c/svg%3e",xs="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='147.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%2300D098'%20stroke='black'/%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%2300D098'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%2300D098'%20stroke='black'/%3e%3crect%20x='0.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%2300D098'%20stroke='black'/%3e%3c/svg%3e",bs="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%231BB1E0'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%231BB1E0'%20stroke='black'/%3e%3crect%20x='0.5'%20y='48.5101'%20width='49'%20height='47.9899'%20fill='%231BB1E0'%20stroke='black'/%3e%3crect%20x='0.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%231BB1E0'%20stroke='black'/%3e%3c/svg%3e",Ts="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='147.5'%20y='48.5'%20width='49'%20height='47.9899'%20fill='%23FF9300'%20stroke='black'/%3e%3crect%20x='147.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23FF9300'%20stroke='black'/%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23FF9300'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%23FF9300'%20stroke='black'/%3e%3c/svg%3e",As="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='98.5'%20y='48.5'%20width='49'%20height='47.9899'%20fill='%23FFC900'%20stroke='black'/%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23FFC900'%20stroke='black'/%3e%3crect%20x='49.5'%20y='48.5101'%20width='49'%20height='47.9899'%20fill='%23FFC900'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%23FFC900'%20stroke='black'/%3e%3c/svg%3e",Ss="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='98.5'%20y='48.5'%20width='49'%20height='47.9899'%20fill='%238ACE00'%20stroke='black'/%3e%3crect%20x='49.5'%20y='48.5101'%20width='49'%20height='47.9899'%20fill='%238ACE00'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%238ACE00'%20stroke='black'/%3e%3crect%20x='0.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%238ACE00'%20stroke='black'/%3e%3c/svg%3e",ks="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='147.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23A1639C'%20stroke='black'/%3e%3crect%20x='98.5'%20y='48.5'%20width='49'%20height='47.9899'%20fill='%23A1639C'%20stroke='black'/%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23A1639C'%20stroke='black'/%3e%3crect%20x='49.5'%20y='96.5101'%20width='49'%20height='47.9899'%20fill='%23A1639C'%20stroke='black'/%3e%3c/svg%3e",Es="data:image/svg+xml,%3csvg%20width='197'%20height='193'%20viewBox='0%200%20197%20193'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='147.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23FB0028'%20stroke='black'/%3e%3crect%20x='98.5'%20y='48.5'%20width='49'%20height='47.9899'%20fill='%23FB0028'%20stroke='black'/%3e%3crect%20x='98.5'%20y='96.5'%20width='49'%20height='47.9899'%20fill='%23FB0028'%20stroke='black'/%3e%3crect%20x='49.5'%20y='48.5101'%20width='49'%20height='47.9899'%20fill='%23FB0028'%20stroke='black'/%3e%3c/svg%3e",Cs="/retro-tetris/assets/vignette-VcMP0aBW.png",Ps="/retro-tetris/assets/button-on-pppjS8FC.mp3",Os="/retro-tetris/assets/drop-block-IBihn848.mp3",Ls="/retro-tetris/assets/game-over-s0-34NFz.mp3",Ms="/retro-tetris/assets/game-theme-HIWvpUUz.mp3",Is="/retro-tetris/assets/main-theme-kcqKGzhI.mp3",Bs="/retro-tetris/assets/monitor-on-FHjmfAUQ.mp3",Rs="/retro-tetris/assets/pause-sX-hkoWi.mp3",Ds="/retro-tetris/assets/pixel-transition-bNJEVRHO.mp3",Hs="/retro-tetris/assets/play-kpWX5Ww3.mp3",Vs="/retro-tetris/assets/row-filled-Wxf3gD7D.mp3",Ns="/retro-tetris/assets/start-k3M_pGew.mp3",Fs="/retro-tetris/assets/timer-XoONSLHb.mp3";var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(u){(function(){var t=function(){this.init()};t.prototype={init:function(){var n=this||e;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var a=this||e;if(n=parseFloat(n),a.ctx||d(),typeof n<"u"&&n>=0&&n<=1){if(a._volume=n,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n,e.ctx.currentTime);for(var h=0;h<a._howls.length;h++)if(!a._howls[h]._webAudio)for(var p=a._howls[h]._getSoundIds(),_=0;_<p.length;_++){var m=a._howls[h]._soundById(p[_]);m&&m._node&&(m._node.volume=m._volume*n)}return a}return a._volume},mute:function(n){var a=this||e;a.ctx||d(),a._muted=n,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n?0:a._volume,e.ctx.currentTime);for(var h=0;h<a._howls.length;h++)if(!a._howls[h]._webAudio)for(var p=a._howls[h]._getSoundIds(),_=0;_<p.length;_++){var m=a._howls[h]._soundById(p[_]);m&&m._node&&(m._node.muted=n?!0:m._muted)}return a},stop:function(){for(var n=this||e,a=0;a<n._howls.length;a++)n._howls[a].stop();return n},unload:function(){for(var n=this||e,a=n._howls.length-1;a>=0;a--)n._howls[a].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close<"u"&&(n.ctx.close(),n.ctx=null,d()),n},codecs:function(n){return(this||e)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||e;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var a=new Audio;a.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||e,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return n}if(!a||typeof a.canPlayType!="function")return n;var h=a.canPlayType("audio/mpeg;").replace(/^no$/,""),p=n._navigator?n._navigator.userAgent:"",_=p.match(/OPR\/(\d+)/g),m=_&&parseInt(_[0].split("/")[1],10)<33,g=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,v=p.match(/Version\/(.*?) /),y=g&&v&&parseInt(v[1],10)<15;return n._codecs={mp3:!!(!m&&(h||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||e;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var a=function(h){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,n._releaseHtml5Audio(p)}catch{n.noAudio=!0;break}for(var _=0;_<n._howls.length;_++)if(!n._howls[_]._webAudio)for(var m=n._howls[_]._getSoundIds(),g=0;g<m.length;g++){var v=n._howls[_]._soundById(m[g]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}n._autoResume();var y=n.ctx.createBufferSource();y.buffer=n._scratchBuffer,y.connect(n.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),y.onended=function(){y.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var x=0;x<n._howls.length;x++)n._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),n}},_obtainHtml5Audio:function(){var n=this||e;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var a=this||e;return n._unlocked&&a._html5AudioPool.push(n),a},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend>"u"||!e.usingWebAudio)){for(var a=0;a<n._howls.length;a++)if(n._howls[a]._webAudio){for(var h=0;h<n._howls[a]._sounds.length;h++)if(!n._howls[a]._sounds[h]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var p=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(p,p)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume>"u"||!e.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var a=0;a<n._howls.length;a++)n._howls[a]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var e=new t,i=function(n){var a=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(n)};i.prototype={init:function(n){var a=this;return e.ctx||d(),a._autoplay=n.autoplay||!1,a._format=typeof n.format!="string"?n.format:[n.format],a._html5=n.html5||!1,a._muted=n.mute||!1,a._loop=n.loop||!1,a._pool=n.pool||5,a._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,a._rate=n.rate||1,a._sprite=n.sprite||{},a._src=typeof n.src!="string"?n.src:[n.src],a._volume=n.volume!==void 0?n.volume:1,a._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=n.onend?[{fn:n.onend}]:[],a._onfade=n.onfade?[{fn:n.onfade}]:[],a._onload=n.onload?[{fn:n.onload}]:[],a._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],a._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],a._onpause=n.onpause?[{fn:n.onpause}]:[],a._onplay=n.onplay?[{fn:n.onplay}]:[],a._onstop=n.onstop?[{fn:n.onstop}]:[],a._onmute=n.onmute?[{fn:n.onmute}]:[],a._onvolume=n.onvolume?[{fn:n.onvolume}]:[],a._onrate=n.onrate?[{fn:n.onrate}]:[],a._onseek=n.onseek?[{fn:n.onseek}]:[],a._onunlock=n.onunlock?[{fn:n.onunlock}]:[],a._onresume=[],a._webAudio=e.usingWebAudio&&!a._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var n=this,a=null;if(e.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var h=0;h<n._src.length;h++){var p,_;if(n._format&&n._format[h])p=n._format[h];else{if(_=n._src[h],typeof _!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(_),p||(p=/\.([^.]+)$/.exec(_.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&e.codecs(p)){a=n._src[h];break}}if(!a){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=a,n._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new r(n),n._webAudio&&o(n),n},play:function(n,a){var h=this,p=null;if(typeof n=="number")p=n,n=null;else{if(typeof n=="string"&&h._state==="loaded"&&!h._sprite[n])return null;if(typeof n>"u"&&(n="__default",!h._playLock)){for(var _=0,m=0;m<h._sounds.length;m++)h._sounds[m]._paused&&!h._sounds[m]._ended&&(_++,p=h._sounds[m]._id);_===1?n=null:p=null}}var g=p?h._soundById(p):h._inactiveSound();if(!g)return null;if(p&&!n&&(n=g._sprite||"__default"),h._state!=="loaded"){g._sprite=n,g._ended=!1;var v=g._id;return h._queue.push({event:"play",action:function(){h.play(v)}}),v}if(p&&!g._paused)return a||h._loadQueue("play"),g._id;h._webAudio&&e._autoResume();var y=Math.max(0,g._seek>0?g._seek:h._sprite[n][0]/1e3),x=Math.max(0,(h._sprite[n][0]+h._sprite[n][1])/1e3-y),b=x*1e3/Math.abs(g._rate),T=h._sprite[n][0]/1e3,A=(h._sprite[n][0]+h._sprite[n][1])/1e3;g._sprite=n,g._ended=!1;var S=function(){g._paused=!1,g._seek=y,g._start=T,g._stop=A,g._loop=!!(g._loop||h._sprite[n][2])};if(y>=A){h._ended(g);return}var w=g._node;if(h._webAudio){var E=function(){h._playLock=!1,S(),h._refreshBuffer(g);var I=g._muted||h._muted?0:g._volume;w.gain.setValueAtTime(I,e.ctx.currentTime),g._playStart=e.ctx.currentTime,typeof w.bufferSource.start>"u"?g._loop?w.bufferSource.noteGrainOn(0,y,86400):w.bufferSource.noteGrainOn(0,y,x):g._loop?w.bufferSource.start(0,y,86400):w.bufferSource.start(0,y,x),b!==1/0&&(h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),b)),a||setTimeout(function(){h._emit("play",g._id),h._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?E():(h._playLock=!0,h.once("resume",E),h._clearTimer(g._id))}else{var C=function(){w.currentTime=y,w.muted=g._muted||h._muted||e._muted||w.muted,w.volume=g._volume*e.volume(),w.playbackRate=g._rate;try{var I=w.play();if(I&&typeof Promise<"u"&&(I instanceof Promise||typeof I.then=="function")?(h._playLock=!0,S(),I.then(function(){h._playLock=!1,w._unlocked=!0,a?h._loadQueue():h._emit("play",g._id)}).catch(function(){h._playLock=!1,h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):a||(h._playLock=!1,S(),h._emit("play",g._id)),w.playbackRate=g._rate,w.paused){h._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||g._loop?h._endTimers[g._id]=setTimeout(h._ended.bind(h,g),b):(h._endTimers[g._id]=function(){h._ended(g),w.removeEventListener("ended",h._endTimers[g._id],!1)},w.addEventListener("ended",h._endTimers[g._id],!1))}catch(B){h._emit("playerror",g._id,B)}};w.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(w.src=h._src,w.load());var O=window&&window.ejecta||!w.readyState&&e._navigator.isCocoonJS;if(w.readyState>=3||O)C();else{h._playLock=!0,h._state="loading";var P=function(){h._state="loaded",C(),w.removeEventListener(e._canPlayEvent,P,!1)};w.addEventListener(e._canPlayEvent,P,!1),h._clearTimer(g._id)}}return g._id},pause:function(n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(n)}}),a;for(var h=a._getSoundIds(n),p=0;p<h.length;p++){a._clearTimer(h[p]);var _=a._soundById(h[p]);if(_&&!_._paused&&(_._seek=a.seek(h[p]),_._rateSeek=0,_._paused=!0,a._stopFade(h[p]),_._node))if(a._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),a._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||a._emit("pause",_?_._id:null)}return a},stop:function(n,a){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(n)}}),h;for(var p=h._getSoundIds(n),_=0;_<p.length;_++){h._clearTimer(p[_]);var m=h._soundById(p[_]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,h._stopFade(p[_]),m._node&&(h._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),h._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&h._clearSound(m._node))),a||h._emit("stop",m._id))}return h},mute:function(n,a){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(n,a)}}),h;if(typeof a>"u")if(typeof n=="boolean")h._muted=n;else return h._muted;for(var p=h._getSoundIds(a),_=0;_<p.length;_++){var m=h._soundById(p[_]);m&&(m._muted=n,m._interval&&h._stopFade(m._id),h._webAudio&&m._node?m._node.gain.setValueAtTime(n?0:m._volume,e.ctx.currentTime):m._node&&(m._node.muted=e._muted?!0:n),h._emit("mute",m._id))}return h},volume:function(){var n=this,a=arguments,h,p;if(a.length===0)return n._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var _=n._getSoundIds(),m=_.indexOf(a[0]);m>=0?p=parseInt(a[0],10):h=parseFloat(a[0])}else a.length>=2&&(h=parseFloat(a[0]),p=parseInt(a[1],10));var g;if(typeof h<"u"&&h>=0&&h<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,a)}}),n;typeof p>"u"&&(n._volume=h),p=n._getSoundIds(p);for(var v=0;v<p.length;v++)g=n._soundById(p[v]),g&&(g._volume=h,a[2]||n._stopFade(p[v]),n._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(h,e.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=h*e.volume()),n._emit("volume",g._id))}else return g=p?n._soundById(p):n._sounds[0],g?g._volume:0;return n},fade:function(n,a,h,p){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(n,a,h,p)}}),_;n=Math.min(Math.max(0,parseFloat(n)),1),a=Math.min(Math.max(0,parseFloat(a)),1),h=parseFloat(h),_.volume(n,p);for(var m=_._getSoundIds(p),g=0;g<m.length;g++){var v=_._soundById(m[g]);if(v){if(p||_._stopFade(m[g]),_._webAudio&&!v._muted){var y=e.ctx.currentTime,x=y+h/1e3;v._volume=n,v._node.gain.setValueAtTime(n,y),v._node.gain.linearRampToValueAtTime(a,x)}_._startFadeInterval(v,n,a,h,m[g],typeof p>"u")}}return _},_startFadeInterval:function(n,a,h,p,_,m){var g=this,v=a,y=h-a,x=Math.abs(y/.01),b=Math.max(4,x>0?p/x:p),T=Date.now();n._fadeTo=h,n._interval=setInterval(function(){var A=(Date.now()-T)/p;T=Date.now(),v+=y*A,v=Math.round(v*100)/100,y<0?v=Math.max(h,v):v=Math.min(h,v),g._webAudio?n._volume=v:g.volume(v,n._id,!0),m&&(g._volume=v),(h<a&&v<=h||h>a&&v>=h)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,g.volume(h,n._id),g._emit("fade",n._id))},b)},_stopFade:function(n){var a=this,h=a._soundById(n);return h&&h._interval&&(a._webAudio&&h._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(h._interval),h._interval=null,a.volume(h._fadeTo,n),h._fadeTo=null,a._emit("fade",n)),a},loop:function(){var n=this,a=arguments,h,p,_;if(a.length===0)return n._loop;if(a.length===1)if(typeof a[0]=="boolean")h=a[0],n._loop=h;else return _=n._soundById(parseInt(a[0],10)),_?_._loop:!1;else a.length===2&&(h=a[0],p=parseInt(a[1],10));for(var m=n._getSoundIds(p),g=0;g<m.length;g++)_=n._soundById(m[g]),_&&(_._loop=h,n._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=h,h&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,n.playing(m[g])&&(n.pause(m[g],!0),n.play(m[g],!0)))));return n},rate:function(){var n=this,a=arguments,h,p;if(a.length===0)p=n._sounds[0]._id;else if(a.length===1){var _=n._getSoundIds(),m=_.indexOf(a[0]);m>=0?p=parseInt(a[0],10):h=parseFloat(a[0])}else a.length===2&&(h=parseFloat(a[0]),p=parseInt(a[1],10));var g;if(typeof h=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,a)}}),n;typeof p>"u"&&(n._rate=h),p=n._getSoundIds(p);for(var v=0;v<p.length;v++)if(g=n._soundById(p[v]),g){n.playing(p[v])&&(g._rateSeek=n.seek(p[v]),g._playStart=n._webAudio?e.ctx.currentTime:g._playStart),g._rate=h,n._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(h,e.ctx.currentTime):g._node&&(g._node.playbackRate=h);var y=n.seek(p[v]),x=(n._sprite[g._sprite][0]+n._sprite[g._sprite][1])/1e3-y,b=x*1e3/Math.abs(g._rate);(n._endTimers[p[v]]||!g._paused)&&(n._clearTimer(p[v]),n._endTimers[p[v]]=setTimeout(n._ended.bind(n,g),b)),n._emit("rate",g._id)}}else return g=n._soundById(p),g?g._rate:n._rate;return n},seek:function(){var n=this,a=arguments,h,p;if(a.length===0)n._sounds.length&&(p=n._sounds[0]._id);else if(a.length===1){var _=n._getSoundIds(),m=_.indexOf(a[0]);m>=0?p=parseInt(a[0],10):n._sounds.length&&(p=n._sounds[0]._id,h=parseFloat(a[0]))}else a.length===2&&(h=parseFloat(a[0]),p=parseInt(a[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,a)}}),n;var g=n._soundById(p);if(g)if(typeof h=="number"&&h>=0){var v=n.playing(p);v&&n.pause(p,!0),g._seek=h,g._ended=!1,n._clearTimer(p),!n._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=h);var y=function(){v&&n.play(p,!0),n._emit("seek",p)};if(v&&!n._webAudio){var x=function(){n._playLock?setTimeout(x,0):y()};setTimeout(x,0)}else y()}else if(n._webAudio){var b=n.playing(p)?e.ctx.currentTime-g._playStart:0,T=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(T+b*Math.abs(g._rate))}else return g._node.currentTime;return n},playing:function(n){var a=this;if(typeof n=="number"){var h=a._soundById(n);return h?!h._paused:!1}for(var p=0;p<a._sounds.length;p++)if(!a._sounds[p]._paused)return!0;return!1},duration:function(n){var a=this,h=a._duration,p=a._soundById(n);return p&&(h=a._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var n=this,a=n._sounds,h=0;h<a.length;h++)a[h]._paused||n.stop(a[h]._id),n._webAudio||(n._clearSound(a[h]._node),a[h]._node.removeEventListener("error",a[h]._errorFn,!1),a[h]._node.removeEventListener(e._canPlayEvent,a[h]._loadFn,!1),a[h]._node.removeEventListener("ended",a[h]._endFn,!1),e._releaseHtml5Audio(a[h]._node)),delete a[h]._node,n._clearTimer(a[h]._id);var p=e._howls.indexOf(n);p>=0&&e._howls.splice(p,1);var _=!0;for(h=0;h<e._howls.length;h++)if(e._howls[h]._src===n._src||n._src.indexOf(e._howls[h]._src)>=0){_=!1;break}return s&&_&&delete s[n._src],e.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,a,h,p){var _=this,m=_["_on"+n];return typeof a=="function"&&m.push(p?{id:h,fn:a,once:p}:{id:h,fn:a}),_},off:function(n,a,h){var p=this,_=p["_on"+n],m=0;if(typeof a=="number"&&(h=a,a=null),a||h)for(m=0;m<_.length;m++){var g=h===_[m].id;if(a===_[m].fn&&g||!a&&g){_.splice(m,1);break}}else if(n)p["_on"+n]=[];else{var v=Object.keys(p);for(m=0;m<v.length;m++)v[m].indexOf("_on")===0&&Array.isArray(p[v[m]])&&(p[v[m]]=[])}return p},once:function(n,a,h){var p=this;return p.on(n,a,h,1),p},_emit:function(n,a,h){for(var p=this,_=p["_on"+n],m=_.length-1;m>=0;m--)(!_[m].id||_[m].id===a||n==="load")&&(setTimeout((function(g){g.call(this,a,h)}).bind(p,_[m].fn),0),_[m].once&&p.off(n,_[m].fn,_[m].id));return p._loadQueue(n),p},_loadQueue:function(n){var a=this;if(a._queue.length>0){var h=a._queue[0];h.event===n&&(a._queue.shift(),a._loadQueue()),n||h.action()}return a},_ended:function(n){var a=this,h=n._sprite;if(!a._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(a._ended.bind(a,n),100),a;var p=!!(n._loop||a._sprite[h][2]);if(a._emit("end",n._id),!a._webAudio&&p&&a.stop(n._id,!0).play(n._id),a._webAudio&&p){a._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=e.ctx.currentTime;var _=(n._stop-n._start)*1e3/Math.abs(n._rate);a._endTimers[n._id]=setTimeout(a._ended.bind(a,n),_)}return a._webAudio&&!p&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,a._clearTimer(n._id),a._cleanBuffer(n._node),e._autoSuspend()),!a._webAudio&&!p&&a.stop(n._id,!0),a},_clearTimer:function(n){var a=this;if(a._endTimers[n]){if(typeof a._endTimers[n]!="function")clearTimeout(a._endTimers[n]);else{var h=a._soundById(n);h&&h._node&&h._node.removeEventListener("ended",a._endTimers[n],!1)}delete a._endTimers[n]}return a},_soundById:function(n){for(var a=this,h=0;h<a._sounds.length;h++)if(n===a._sounds[h]._id)return a._sounds[h];return null},_inactiveSound:function(){var n=this;n._drain();for(var a=0;a<n._sounds.length;a++)if(n._sounds[a]._ended)return n._sounds[a].reset();return new r(n)},_drain:function(){var n=this,a=n._pool,h=0,p=0;if(!(n._sounds.length<a)){for(p=0;p<n._sounds.length;p++)n._sounds[p]._ended&&h++;for(p=n._sounds.length-1;p>=0;p--){if(h<=a)return;n._sounds[p]._ended&&(n._webAudio&&n._sounds[p]._node&&n._sounds[p]._node.disconnect(0),n._sounds.splice(p,1),h--)}}},_getSoundIds:function(n){var a=this;if(typeof n>"u"){for(var h=[],p=0;p<a._sounds.length;p++)h.push(a._sounds[p]._id);return h}else return[n]},_refreshBuffer:function(n){var a=this;return n._node.bufferSource=e.ctx.createBufferSource(),n._node.bufferSource.buffer=s[a._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,e.ctx.currentTime),a},_cleanBuffer:function(n){var a=this,h=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!n.bufferSource)return a;if(e._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),h))try{n.bufferSource.buffer=e._scratchBuffer}catch{}return n.bufferSource=null,a},_clearSound:function(n){var a=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);a||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(n){this._parent=n,this.init()};r.prototype={init:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,a._sounds.push(n),n.create(),n},create:function(){var n=this,a=n._parent,h=e._muted||n._muted||n._parent._muted?0:n._volume;return a._webAudio?(n._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),n._node.gain.setValueAtTime(h,e.ctx.currentTime),n._node.paused=!0,n._node.connect(e.masterGain)):e.noAudio||(n._node=e._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(e._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=a._src,n._node.preload=a._preload===!0?"auto":a._preload,n._node.volume=h*e.volume(),n._node.load()),n},reset:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,a=n._parent;a._duration=Math.ceil(n._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),n._node.removeEventListener(e._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,a=n._parent;a._duration===1/0&&(a._duration=Math.ceil(n._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var s={},o=function(n){var a=n._src;if(s[a]){n._duration=s[a].duration,f(n);return}if(/^data:[^;]+;base64,/.test(a)){for(var h=atob(a.split(",")[1]),p=new Uint8Array(h.length),_=0;_<h.length;++_)p[_]=h.charCodeAt(_);c(p.buffer,n)}else{var m=new XMLHttpRequest;m.open(n._xhr.method,a,!0),m.withCredentials=n._xhr.withCredentials,m.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(g){m.setRequestHeader(g,n._xhr.headers[g])}),m.onload=function(){var g=(m.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}c(m.response,n)},m.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete s[a],n.load())},l(m)}},l=function(n){try{n.send()}catch{n.onerror()}},c=function(n,a){var h=function(){a._emit("loaderror",null,"Decoding audio data failed.")},p=function(_){_&&a._sounds.length>0?(s[a._src]=_,f(a,_)):h()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(n).then(p).catch(h):e.ctx.decodeAudioData(n,p,h)},f=function(n,a){a&&!n._duration&&(n._duration=a.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},d=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),a=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=a?parseInt(a[1],10):null;if(n&&h&&h<9){var p=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!p&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};u.Howler=e,u.Howl=i,typeof xt<"u"?(xt.HowlerGlobal=t,xt.Howler=e,xt.Howl=i,xt.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=i,window.Sound=r)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var r=i._howls.length-1;r>=0;r--)i._howls[r].stereo(e);return i},HowlerGlobal.prototype.pos=function(e,i,r){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,r=typeof r!="number"?s._pos[2]:r,typeof e=="number")s._pos=[e,i,r],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(e,i,r,s,o,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var f=c._orientation;if(i=typeof i!="number"?f[1]:i,r=typeof r!="number"?f[2]:r,s=typeof s!="number"?f[3]:s,o=typeof o!="number"?f[4]:o,l=typeof l!="number"?f[5]:l,typeof e=="number")c._orientation=[e,i,r,s,o,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(e,i,r,s,o,l);else return f;return c},Howl.prototype.init=function(e){return function(i){var r=this;return r._orientation=i.orientation||[1,0,0],r._stereo=i.stereo||null,r._pos=i.pos||null,r._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},r._onstereo=i.onstereo?[{fn:i.onstereo}]:[],r._onpos=i.onpos?[{fn:i.onpos}]:[],r._onorientation=i.onorientation?[{fn:i.onorientation}]:[],e.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,i){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,i)}}),r;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var o=r._getSoundIds(i),l=0;l<o.length;l++){var c=r._soundById(o[l]);if(c)if(typeof e=="number")c._stereo=e,c._pos=[e,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(e,0,0):c._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",c._id);else return c._stereo}return r},Howl.prototype.pos=function(e,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(e,i,r,s)}}),o;if(i=typeof i!="number"?0:i,r=typeof r!="number"?-.5:r,typeof s>"u")if(typeof e=="number")o._pos=[e,i,r];else return o._pos;for(var l=o._getSoundIds(s),c=0;c<l.length;c++){var f=o._soundById(l[c]);if(f)if(typeof e=="number")f._pos=[e,i,r],f._node&&((!f._panner||f._panner.pan)&&t(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):f._panner.setPosition(e,i,r)),o._emit("pos",f._id);else return f._pos}return o},Howl.prototype.orientation=function(e,i,r,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(e,i,r,s)}}),o;if(i=typeof i!="number"?o._orientation[1]:i,r=typeof r!="number"?o._orientation[2]:r,typeof s>"u")if(typeof e=="number")o._orientation=[e,i,r];else return o._orientation;for(var l=o._getSoundIds(s),c=0;c<l.length;c++){var f=o._soundById(l[c]);if(f)if(typeof e=="number")f._orientation=[e,i,r],f._node&&(f._panner||(f._pos||(f._pos=o._pos||[0,0,-.5]),t(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):f._panner.setOrientation(e,i,r)),o._emit("orientation",f._id);else return f._orientation}return o},Howl.prototype.pannerAttr=function(){var e=this,i=arguments,r,s,o;if(!e._webAudio)return e;if(i.length===0)return e._pannerAttr;if(i.length===1)if(typeof i[0]=="object")r=i[0],typeof s>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return o=e._soundById(parseInt(i[0],10)),o?o._pannerAttr:e._pannerAttr;else i.length===2&&(r=i[0],s=parseInt(i[1],10));for(var l=e._getSoundIds(s),c=0;c<l.length;c++)if(o=e._soundById(l[c]),o){var f=o._pannerAttr;f={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:f.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:f.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:f.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:f.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:f.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:f.panningModel};var d=o._panner;d||(o._pos||(o._pos=e._pos||[0,0,-.5]),t(o,"spatial"),d=o._panner),d.coneInnerAngle=f.coneInnerAngle,d.coneOuterAngle=f.coneOuterAngle,d.coneOuterGain=f.coneOuterGain,d.distanceModel=f.distanceModel,d.maxDistance=f.maxDistance,d.refDistance=f.refDistance,d.rolloffFactor=f.rolloffFactor,d.panningModel=f.panningModel}return e},Sound.prototype.init=function(e){return function(){var i=this,r=i._parent;i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,e.call(this),i._stereo?r.stereo(i._stereo):i._pos&&r.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var i=this,r=i._parent;return i._orientation=r._orientation,i._stereo=r._stereo,i._pos=r._pos,i._pannerAttr=r._pannerAttr,i._stereo?r.stereo(i._stereo):i._pos?r.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,r._refreshBuffer(i)),e.call(this)}}(Sound.prototype.reset);var t=function(e,i){i=i||"spatial",i==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()})($i);class ui{constructor({templateSelector:t,title:e}){k(this,"template");k(this,"rootElement");k(this,"title");this.title=e,this.cutTemplate(t)}cutTemplate(t){const e=document.querySelector(t);if(!e)throw new Error(`Template with selector "${t}" is not found`);e.remove(),this.template=e}setDocumentTitle(){document.title=this.title?`${this.title} | TETRIS`:"TETRIS"}async render(t){var e;if(!this.template)throw new Error("Template is empty");this.beforeRender&&await this.beforeRender(),this.setDocumentTitle(),this.rootElement=(e=this.template.content.firstElementChild)==null?void 0:e.cloneNode(!0),t.append(this.rootElement),this.afterRender&&this.afterRender()}remove(){this.beforeRemove&&this.beforeRemove(),this.rootElement.remove(),this.afterRemove&&this.afterRemove()}}class ji extends ui{}const Gs=()=>[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(t=>navigator.userAgent.match(t)),Ge=Gs(),le=async(u,t={})=>{const e=new $i.Howl({src:[u],...t});return e.play(),new Promise(i=>{e.state()==="loaded"?i(e):e.on("load",()=>i(e))})},qs="/retro-tetris/assets/button-on-pppjS8FC.mp3";class Us extends ui{constructor(){super({templateSelector:"#loading-screen"});k(this,"PROGRESS_SELECTOR","#progress");k(this,"PROGRESS_VALUE_SELECTOR","#progress-value");k(this,"progressElement");k(this,"progressValueElement");k(this,"progressValue",0);k(this,"continueListenerParams");k(this,"onContinueCallback")}setProgressElements(){const e=document.querySelector(this.PROGRESS_SELECTOR),i=document.querySelector(this.PROGRESS_VALUE_SELECTOR);if(!e)throw new Error(`Progress with selector "${this.PROGRESS_SELECTOR}" is not found`);if(!i)throw new Error(`Progress value with selector "${this.PROGRESS_SELECTOR}" is not found`);this.progressElement=e,this.progressValueElement=i}get progress(){return this.progressValue}set progress(e){this.progressValue=e,this.renderCurrentProgress()}renderCurrentProgress(){const i=this.progressElement.clientWidth,r=this.progressValue/100*i,s=r-r%35;this.progressValueElement.style.display="block",this.progressValueElement.style.width=`${s}px`}preloadMedia(e,i){const r=Object.values(e),s=[];return r.forEach(o=>{const l=new i;l.src=o,s.push(new Promise(c=>{l.onload=c}))}),Promise.all(s)}async preloadImages(){const e=Object.assign({"/src/assets/images/game-screen/arrow-down.svg":ps,"/src/assets/images/game-screen/arrow-left.svg":ms,"/src/assets/images/game-screen/arrow-right.svg":gs,"/src/assets/images/game-screen/pause-circle.svg":vs,"/src/assets/images/game-screen/rotate.svg":ys,"/src/assets/images/game-screen/scull.svg":ws,"/src/assets/images/start-screen/i-block.svg":xs,"/src/assets/images/start-screen/j-block.svg":bs,"/src/assets/images/start-screen/l-block.svg":Ts,"/src/assets/images/start-screen/o-block.svg":As,"/src/assets/images/start-screen/s-block.svg":Ss,"/src/assets/images/start-screen/t-block.svg":ks,"/src/assets/images/start-screen/z-block.svg":Es,"/src/assets/images/vignette.png":Cs});await this.preloadMedia(e,Image)}preloadAudio(){const e=Object.assign({"/src/assets/sounds/button-on.mp3":Ps,"/src/assets/sounds/drop-block.mp3":Os,"/src/assets/sounds/game-over.mp3":Ls,"/src/assets/sounds/game-theme.mp3":Ms,"/src/assets/sounds/main-theme.mp3":Is,"/src/assets/sounds/monitor-on.mp3":Bs,"/src/assets/sounds/pause.mp3":Rs,"/src/assets/sounds/pixel-transition.mp3":Ds,"/src/assets/sounds/play.mp3":Hs,"/src/assets/sounds/row-filled.mp3":Vs,"/src/assets/sounds/start.mp3":Ns,"/src/assets/sounds/timer.mp3":Fs}),i=[];return Object.values(e).forEach(r=>{const s=new Promise(o=>{new $i.Howl({src:r,preload:!0,onload:o})});i.push(s)}),Promise.all(i)}onFontsLoaded(){return new Promise(e=>{document.fonts.ready.then(()=>e(!0))})}continue(e){e instanceof KeyboardEvent&&e.code!=="Enter"||(window.removeEventListener(this.continueListenerParams.eventName,this.continueListenerParams.handler),le(qs),this.rootElement.innerHTML="",setTimeout(()=>{this.onContinueCallback&&this.onContinueCallback()},700))}setContinueReadyState(){const e=Ge?"Tap to continue":"Press ENTER to continue";this.rootElement.innerHTML=e,Ge?this.continueListenerParams={eventName:"touchend",handler:this.continue.bind(this)}:this.continueListenerParams={eventName:"keydown",handler:this.continue.bind(this)},window.addEventListener(this.continueListenerParams.eventName,this.continueListenerParams.handler)}async preloadAll(){const e=[this.onFontsLoaded(),this.preloadAudio(),this.preloadImages()];e.forEach(i=>{i.then(()=>{const r=Math.ceil(100/e.length);this.progress+=r})}),await Promise.all(e),setTimeout(()=>this.setContinueReadyState(),700)}afterRender(){this.setProgressElements(),this.preloadAll()}beforeRemove(){window.removeEventListener(this.continueListenerParams.eventName,this.continueListenerParams.handler)}onContinue(e){this.onContinueCallback=e}}function Oe(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function zr(u,t){u.prototype=Object.create(t.prototype),u.prototype.constructor=u,u.__proto__=t}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var fe={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},mt={duration:.5,overwrite:!1,delay:0},Ki,K,V,ge=1e8,H=1/ge,Ei=Math.PI*2,zs=Ei/4,Xs=0,Xr=Math.sqrt,Ys=Math.cos,Ws=Math.sin,W=function(t){return typeof t=="string"},q=function(t){return typeof t=="function"},Re=function(t){return typeof t=="number"},Zi=function(t){return typeof t>"u"},Pe=function(t){return typeof t=="object"},te=function(t){return t!==!1},Qi=function(){return typeof window<"u"},Ut=function(t){return q(t)||W(t)},Yr=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Z=Array.isArray,Ci=/(?:-?\.?\d|\.)+/gi,Wr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ut=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,di=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$r=/[+-]=-?[.\d]+/,jr=/[^,'"\[\]\s]+/gi,$s=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,F,Ae,Pi,Ji,he={},Qt={},Kr,Zr=function(t){return(Qt=nt(t,he))&&se},er=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Bt=function(t,e){return!e&&console.warn(t)},Qr=function(t,e){return t&&(he[t]=e)&&Qt&&(Qt[t]=e)||he},Rt=function(){return 0},js={suppressEvents:!0,isStart:!0,kill:!1},Wt={suppressEvents:!0,kill:!1},Ks={suppressEvents:!0},tr={},qe=[],Oi={},Jr,ae={},pi={},mr=30,$t=[],ir="",rr=function(t){var e=t[0],i,r;if(Pe(e)||q(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=$t.length;r--&&!$t[r].targetTest(e););i=$t[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new An(t[r],i)))||t.splice(r,1);return t},Qe=function(t){return t._gsap||rr(ve(t))[0]._gsap},en=function(t,e,i){return(i=t[e])&&q(i)?t[e]():Zi(i)&&t.getAttribute&&t.getAttribute(e)||i},ie=function(t,e){return(t=t.split(",")).forEach(e)||t},U=function(t){return Math.round(t*1e5)/1e5||0},Y=function(t){return Math.round(t*1e7)/1e7||0},ht=function(t,e){var i=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+r:i==="-"?t-r:i==="*"?t*r:t/r},Zs=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},Jt=function(){var t=qe.length,e=qe.slice(0),i,r;for(Oi={},qe.length=0,i=0;i<t;i++)r=e[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},tn=function(t,e,i,r){qe.length&&!K&&Jt(),t.render(e,i,r||K&&e<0&&(t._initted||t._startAt)),qe.length&&!K&&Jt()},rn=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(jr).length<2?e:W(t)?t.trim():t},nn=function(t){return t},we=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Qs=function(t){return function(e,i){for(var r in i)r in e||r==="duration"&&t||r==="ease"||(e[r]=i[r])}},nt=function(t,e){for(var i in e)t[i]=e[i];return t},gr=function u(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=Pe(e[i])?u(t[i]||(t[i]={}),e[i]):e[i]);return t},ei=function(t,e){var i={},r;for(r in t)r in e||(i[r]=t[r]);return i},Ot=function(t){var e=t.parent||F,i=t.keyframes?Qs(Z(t.keyframes)):we;if(te(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},Js=function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0},sn=function(t,e,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=t[r],l;if(s)for(l=e[s];o&&o[s]>l;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t,e},ci=function(t,e,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=e._prev,o=e._next;s?s._next=o:t[i]===e&&(t[i]=o),o?o._prev=s:t[r]===e&&(t[r]=s),e._next=e._prev=e.parent=null},ze=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Je=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},eo=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Li=function(t,e,i,r){return t._startAt&&(K?t._startAt.revert(Wt):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},to=function u(t){return!t||t._ts&&u(t.parent)},vr=function(t){return t._repeat?gt(t._tTime,t=t.duration()+t._rDelay)*t:0},gt=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},ti=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},fi=function(t){return t._end=Y(t._start+(t._tDur/Math.abs(t._ts||t._rts||H)||0))},hi=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Y(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),fi(t),i._dirty||Je(i,t)),t},on=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=ti(t.rawTime(),e),(!e._dur||qt(0,e.totalDuration(),i)-e._tTime>H)&&e.render(i,!0)),Je(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-H}},Se=function(t,e,i,r){return e.parent&&ze(e),e._start=Y((Re(i)?i:i||t!==F?pe(t,i,e):t._time)+e._delay),e._end=Y(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),sn(t,e,"_first","_last",t._sort?"_start":0),Mi(e)||(t._recent=e),r||on(t,e),t._ts<0&&hi(t,t._tTime),t},an=function(t,e){return(he.ScrollTrigger||er("scrollTrigger",e))&&he.ScrollTrigger.create(e,t)},ln=function(t,e,i,r,s){if(sr(t,e,s),!t._initted)return 1;if(!i&&t._pt&&!K&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Jr!==ue.frame)return qe.push(t),t._lazy=[s,r],1},io=function u(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||u(e))},Mi=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},ro=function(t,e,i,r){var s=t.ratio,o=e<0||!e&&(!t._start&&io(t)&&!(!t._initted&&Mi(t))||(t._ts<0||t._dp._ts<0)&&!Mi(t))?0:1,l=t._rDelay,c=0,f,d,n;if(l&&t._repeat&&(c=qt(0,t._tDur,e),d=gt(c,l),t._yoyo&&d&1&&(o=1-o),d!==gt(t._tTime,l)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||K||r||t._zTime===H||!e&&t._zTime){if(!t._initted&&ln(t,e,r,i,c))return;for(n=t._zTime,t._zTime=e||(i?H:0),i||(i=e&&!n),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,f=t._pt;f;)f.r(o,f.d),f=f._next;e<0&&Li(t,e,i,!0),t._onUpdate&&!i&&ce(t,"onUpdate"),c&&t._repeat&&!i&&t.parent&&ce(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&ze(t,1),!i&&!K&&(ce(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},no=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},vt=function(t,e,i,r){var s=t._repeat,o=Y(e)||0,l=t._tTime/t._tDur;return l&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:Y(o*(s+1)+t._rDelay*s):o,l>0&&!r&&hi(t,t._tTime=t._tDur*l),t.parent&&fi(t),i||Je(t.parent,t),t},yr=function(t){return t instanceof J?Je(t):vt(t,t._dur)},so={_start:0,endTime:Rt,totalDuration:Rt},pe=function u(t,e,i){var r=t.labels,s=t._recent||so,o=t.duration()>=ge?s.endTime(!1):t._dur,l,c,f;return W(e)&&(isNaN(e)||e in r)?(c=e.charAt(0),f=e.substr(-1)==="%",l=e.indexOf("="),c==="<"||c===">"?(l>=0&&(e=e.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(f?(l<0?s:i).totalDuration()/100:1)):l<0?(e in r||(r[e]=o),r[e]):(c=parseFloat(e.charAt(l-1)+e.substr(l+1)),f&&i&&(c=c/100*(Z(i)?i[0]:i).totalDuration()),l>1?u(t,e.substr(0,l-1),i)+c:o+c)):e==null?o:+e},Lt=function(t,e,i){var r=Re(e[1]),s=(r?2:1)+(t<2?0:1),o=e[s],l,c;if(r&&(o.duration=e[1]),o.parent=i,t){for(l=o,c=i;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=te(c.vars.inherit)&&c.parent;o.immediateRender=te(l.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new z(e[0],o,e[s+1])},Ye=function(t,e){return t||t===0?e(t):e},qt=function(t,e,i){return i<t?t:i>e?e:i},j=function(t,e){return!W(t)||!(e=$s.exec(t))?"":e[1]},oo=function(t,e,i){return Ye(i,function(r){return qt(t,e,r)})},Ii=[].slice,un=function(t,e){return t&&Pe(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Pe(t[0]))&&!t.nodeType&&t!==Ae},ao=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(r){var s;return W(r)&&!e||un(r,1)?(s=i).push.apply(s,ve(r)):i.push(r)})||i},ve=function(t,e,i){return V&&!e&&V.selector?V.selector(t):W(t)&&!i&&(Pi||!yt())?Ii.call((e||Ji).querySelectorAll(t),0):Z(t)?ao(t,i):un(t)?Ii.call(t,0):t?[t]:[]},Bi=function(t){return t=ve(t)[0]||Bt("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ve(e,i.querySelectorAll?i:i===t?Bt("Invalid scope")||Ji.createElement("div"):t)}},cn=function(t){return t.sort(function(){return .5-Math.random()})},fn=function(t){if(q(t))return t;var e=Pe(t)?t:{each:t},i=et(e.ease),r=e.from||0,s=parseFloat(e.base)||0,o={},l=r>0&&r<1,c=isNaN(r)||l,f=e.axis,d=r,n=r;return W(r)?d=n={center:.5,edges:.5,end:1}[r]||0:!l&&c&&(d=r[0],n=r[1]),function(a,h,p){var _=(p||e).length,m=o[_],g,v,y,x,b,T,A,S,w;if(!m){if(w=e.grid==="auto"?0:(e.grid||[1,ge])[1],!w){for(A=-ge;A<(A=p[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(m=o[_]=[],g=c?Math.min(w,_)*d-.5:r%w,v=w===ge?0:c?_*n/w-.5:r/w|0,A=0,S=ge,T=0;T<_;T++)y=T%w-g,x=v-(T/w|0),m[T]=b=f?Math.abs(f==="y"?x:y):Xr(y*y+x*x),b>A&&(A=b),b<S&&(S=b);r==="random"&&cn(m),m.max=A-S,m.min=S,m.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(w>_?_-1:f?f==="y"?_/w:w:Math.max(w,_/w))||0)*(r==="edges"?-1:1),m.b=_<0?s-_:s,m.u=j(e.amount||e.each)||0,i=i&&_<0?xn(i):i}return _=(m[a]-m.min)/m.max||0,Y(m.b+(i?i(_):_)*m.v)+m.u}},Ri=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Y(Math.round(parseFloat(i)/t)*t*e);return(r-r%1)/e+(Re(i)?0:j(i))}},hn=function(t,e){var i=Z(t),r,s;return!i&&Pe(t)&&(r=i=t.radius||ge,t.values?(t=ve(t.values),(s=!Re(t[0]))&&(r*=r)):t=Ri(t.increment)),Ye(e,i?q(t)?function(o){return s=t(o),Math.abs(s-o)<=r?s:o}:function(o){for(var l=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),f=ge,d=0,n=t.length,a,h;n--;)s?(a=t[n].x-l,h=t[n].y-c,a=a*a+h*h):a=Math.abs(t[n]-l),a<f&&(f=a,d=n);return d=!r||f<=r?t[d]:o,s||d===o||Re(o)?d:d+j(o)}:Ri(t))},_n=function(t,e,i,r){return Ye(Z(t)?!e:i===!0?!!(i=0):!r,function(){return Z(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*r)/r})},lo=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(s,o){return o(s)},r)}},uo=function(t,e){return function(i){return t(parseFloat(i))+(e||j(i))}},co=function(t,e,i){return pn(t,e,0,1,i)},dn=function(t,e,i){return Ye(i,function(r){return t[~~e(r)]})},fo=function u(t,e,i){var r=e-t;return Z(t)?dn(t,u(0,t.length),e):Ye(i,function(s){return(r+(s-t)%r)%r+t})},ho=function u(t,e,i){var r=e-t,s=r*2;return Z(t)?dn(t,u(0,t.length-1),e):Ye(i,function(o){return o=(s+(o-t)%s)%s||0,t+(o>r?s-o:o)})},Dt=function(t){for(var e=0,i="",r,s,o,l;~(r=t.indexOf("random(",e));)o=t.indexOf(")",r),l=t.charAt(r+7)==="[",s=t.substr(r+7,o-r-7).match(l?jr:Ci),i+=t.substr(e,r-e)+_n(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},pn=function(t,e,i,r,s){var o=e-t,l=r-i;return Ye(s,function(c){return i+((c-t)/o*l||0)})},_o=function u(t,e,i,r){var s=isNaN(t+e)?0:function(h){return(1-h)*t+h*e};if(!s){var o=W(t),l={},c,f,d,n,a;if(i===!0&&(r=1)&&(i=null),o)t={p:t},e={p:e};else if(Z(t)&&!Z(e)){for(d=[],n=t.length,a=n-2,f=1;f<n;f++)d.push(u(t[f-1],t[f]));n--,s=function(p){p*=n;var _=Math.min(a,~~p);return d[_](p-_)},i=e}else r||(t=nt(Z(t)?[]:{},t));if(!d){for(c in e)nr.call(l,t,c,"get",e[c]);s=function(p){return lr(p,l)||(o?t.p:t)}}}return Ye(i,s)},wr=function(t,e,i){var r=t.labels,s=ge,o,l,c;for(o in r)l=r[o]-e,l<0==!!i&&l&&s>(l=Math.abs(l))&&(c=o,s=l);return c},ce=function(t,e,i){var r=t.vars,s=r[e],o=V,l=t._ctx,c,f,d;if(s)return c=r[e+"Params"],f=r.callbackScope||t,i&&qe.length&&Jt(),l&&(V=l),d=c?s.apply(f,c):s.call(f),V=o,d},St=function(t){return ze(t),t.scrollTrigger&&t.scrollTrigger.kill(!!K),t.progress()<1&&ce(t,"onInterrupt"),t},ct,mn=[],gn=function(t){if(t)if(t=!t.name&&t.default||t,Qi()||t.headless){var e=t.name,i=q(t),r=e&&!i&&t.init?function(){this._props=[]}:t,s={init:Rt,render:lr,add:nr,kill:Oo,modifier:Po,rawVars:0},o={targetTest:0,get:0,getSetter:ar,aliases:{},register:0};if(yt(),t!==r){if(ae[e])return;we(r,we(ei(t,s),o)),nt(r.prototype,nt(s,ei(t,o))),ae[r.prop=e]=r,t.targetTest&&($t.push(r),tr[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Qr(e,r),t.register&&t.register(se,r,re)}else mn.push(t)},D=255,kt={aqua:[0,D,D],lime:[0,D,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,D],navy:[0,0,128],white:[D,D,D],olive:[128,128,0],yellow:[D,D,0],orange:[D,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[D,0,0],pink:[D,192,203],cyan:[0,D,D],transparent:[D,D,D,0]},mi=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*D+.5|0},vn=function(t,e,i){var r=t?Re(t)?[t>>16,t>>8&D,t&D]:0:kt.black,s,o,l,c,f,d,n,a,h,p;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),kt[t])r=kt[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),l=t.charAt(3),t="#"+s+s+o+o+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&D,r&D,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&D,t&D]}else if(t.substr(0,3)==="hsl"){if(r=p=t.match(Ci),!e)c=+r[0]%360/360,f=+r[1]/100,d=+r[2]/100,o=d<=.5?d*(f+1):d+f-d*f,s=d*2-o,r.length>3&&(r[3]*=1),r[0]=mi(c+1/3,s,o),r[1]=mi(c,s,o),r[2]=mi(c-1/3,s,o);else if(~t.indexOf("="))return r=t.match(Wr),i&&r.length<4&&(r[3]=1),r}else r=t.match(Ci)||kt.transparent;r=r.map(Number)}return e&&!p&&(s=r[0]/D,o=r[1]/D,l=r[2]/D,n=Math.max(s,o,l),a=Math.min(s,o,l),d=(n+a)/2,n===a?c=f=0:(h=n-a,f=d>.5?h/(2-n-a):h/(n+a),c=n===s?(o-l)/h+(o<l?6:0):n===o?(l-s)/h+2:(s-o)/h+4,c*=60),r[0]=~~(c+.5),r[1]=~~(f*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},yn=function(t){var e=[],i=[],r=-1;return t.split(Ue).forEach(function(s){var o=s.match(ut)||[];e.push.apply(e,o),i.push(r+=o.length+1)}),e.c=i,e},xr=function(t,e,i){var r="",s=(t+r).match(Ue),o=e?"hsla(":"rgba(",l=0,c,f,d,n;if(!s)return t;if(s=s.map(function(a){return(a=vn(a,e,1))&&o+(e?a[0]+","+a[1]+"%,"+a[2]+"%,"+a[3]:a.join(","))+")"}),i&&(d=yn(t),c=i.c,c.join(r)!==d.c.join(r)))for(f=t.replace(Ue,"1").split(ut),n=f.length-1;l<n;l++)r+=f[l]+(~c.indexOf(l)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:i).shift());if(!f)for(f=t.split(Ue),n=f.length-1;l<n;l++)r+=f[l]+s[l];return r+f[n]},Ue=function(){var u="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in kt)u+="|"+t+"\\b";return new RegExp(u+")","gi")}(),po=/hsl[a]?\(/,wn=function(t){var e=t.join(" "),i;if(Ue.lastIndex=0,Ue.test(e))return i=po.test(e),t[1]=xr(t[1],i),t[0]=xr(t[0],i,yn(t[1])),!0},Ht,ue=function(){var u=Date.now,t=500,e=33,i=u(),r=i,s=1e3/240,o=s,l=[],c,f,d,n,a,h,p=function _(m){var g=u()-r,v=m===!0,y,x,b,T;if((g>t||g<0)&&(i+=g-e),r+=g,b=r-i,y=b-o,(y>0||v)&&(T=++n.frame,a=b-n.time*1e3,n.time=b=b/1e3,o+=y+(y>=s?4:s-y),x=1),v||(c=f(_)),x)for(h=0;h<l.length;h++)l[h](b,a,T,m)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(m){return a/(1e3/(m||60))},wake:function(){Kr&&(!Pi&&Qi()&&(Ae=Pi=window,Ji=Ae.document||{},he.gsap=se,(Ae.gsapVersions||(Ae.gsapVersions=[])).push(se.version),Zr(Qt||Ae.GreenSockGlobals||!Ae.gsap&&Ae||{}),mn.forEach(gn)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&n.sleep(),f=d||function(m){return setTimeout(m,o-n.time*1e3+1|0)},Ht=1,p(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),Ht=0,f=Rt},lagSmoothing:function(m,g){t=m||1/0,e=Math.min(g||33,t)},fps:function(m){s=1e3/(m||240),o=n.time*1e3+s},add:function(m,g,v){var y=g?function(x,b,T,A){m(x,b,T,A),n.remove(y)}:m;return n.remove(m),l[v?"unshift":"push"](y),yt(),y},remove:function(m,g){~(g=l.indexOf(m))&&l.splice(g,1)&&h>=g&&h--},_listeners:l},n}(),yt=function(){return!Ht&&ue.wake()},L={},mo=/^[\d.\-M][\d.\-,\s]/,go=/["']/g,vo=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),r=i[0],s=1,o=i.length,l,c,f;s<o;s++)c=i[s],l=s!==o-1?c.lastIndexOf(","):c.length,f=c.substr(0,l),e[r]=isNaN(f)?f.replace(go,"").trim():+f,r=c.substr(l+1).trim();return e},yo=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)},wo=function(t){var e=(t+"").split("("),i=L[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[vo(e[1])]:yo(t).split(",").map(rn)):L._CE&&mo.test(t)?L._CE("",t):i},xn=function(t){return function(e){return 1-t(1-e)}},bn=function u(t,e){for(var i=t._first,r;i;)i instanceof J?u(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?u(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},et=function(t,e){return t&&(q(t)?t:L[t]||wo(t))||e},ot=function(t,e,i,r){i===void 0&&(i=function(c){return 1-e(1-c)}),r===void 0&&(r=function(c){return c<.5?e(c*2)/2:1-e((1-c)*2)/2});var s={easeIn:e,easeOut:i,easeInOut:r},o;return ie(t,function(l){L[l]=he[l]=s,L[o=l.toLowerCase()]=i;for(var c in s)L[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=L[l+"."+c]=s[c]}),s},Tn=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},gi=function u(t,e,i){var r=e>=1?e:1,s=(i||(t?.3:.45))/(e<1?e:1),o=s/Ei*(Math.asin(1/r)||0),l=function(d){return d===1?1:r*Math.pow(2,-10*d)*Ws((d-o)*s)+1},c=t==="out"?l:t==="in"?function(f){return 1-l(1-f)}:Tn(l);return s=Ei/s,c.config=function(f,d){return u(t,f,d)},c},vi=function u(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},r=t==="out"?i:t==="in"?function(s){return 1-i(1-s)}:Tn(i);return r.config=function(s){return u(t,s)},r};ie("Linear,Quad,Cubic,Quart,Quint,Strong",function(u,t){var e=t<5?t+1:t;ot(u+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});L.Linear.easeNone=L.none=L.Linear.easeIn;ot("Elastic",gi("in"),gi("out"),gi());(function(u,t){var e=1/t,i=2*e,r=2.5*e,s=function(l){return l<e?u*l*l:l<i?u*Math.pow(l-1.5/t,2)+.75:l<r?u*(l-=2.25/t)*l+.9375:u*Math.pow(l-2.625/t,2)+.984375};ot("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ot("Expo",function(u){return u?Math.pow(2,10*(u-1)):0});ot("Circ",function(u){return-(Xr(1-u*u)-1)});ot("Sine",function(u){return u===1?1:-Ys(u*zs)+1});ot("Back",vi("in"),vi("out"),vi());L.SteppedEase=L.steps=he.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,r=t+(e?0:1),s=e?1:0,o=1-H;return function(l){return((r*qt(0,o,l)|0)+s)*i}}};mt.ease=L["quad.out"];ie("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(u){return ir+=u+","+u+"Params,"});var An=function(t,e){this.id=Xs++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:en,this.set=e?e.getSetter:ar},Vt=function(){function u(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,vt(this,+e.duration,1,1),this.data=e.data,V&&(this._ctx=V,V.data.push(this)),Ht||ue.wake()}var t=u.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,vt(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(yt(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(hi(this,i),!s._dp||s.parent||on(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Se(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===H||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),tn(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+vr(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+vr(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?gt(this._tTime,s)+1:1},t.timeScale=function(i,r){if(!arguments.length)return this._rts===-H?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?ti(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-H?0:this._rts,this.totalTime(qt(-Math.abs(this._delay),this._tDur,s),r!==!1),fi(this),eo(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==H&&(this._tTime-=H)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Se(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(te(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ti(r.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=Ks);var r=K;return K=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),K=r,this},t.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,yr(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,yr(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(pe(this,i),te(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,te(r))},t.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-H:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-H,this},t.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-H)},t.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},t.then=function(i){var r=this;return new Promise(function(s){var o=q(i)?i:nn,l=function(){var f=r.then;r.then=null,q(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=f),s(o),r.then=f};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},t.kill=function(){St(this)},u}();we(Vt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-H,_prom:0,_ps:!1,_rts:1});var J=function(u){zr(t,u);function t(i,r){var s;return i===void 0&&(i={}),s=u.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=te(i.sortChildren),F&&Se(i.parent||F,Oe(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&an(Oe(s),i.scrollTrigger),s}var e=t.prototype;return e.to=function(r,s,o){return Lt(0,arguments,this),this},e.from=function(r,s,o){return Lt(1,arguments,this),this},e.fromTo=function(r,s,o,l){return Lt(2,arguments,this),this},e.set=function(r,s,o){return s.duration=0,s.parent=this,Ot(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new z(r,s,pe(this,o),1),this},e.call=function(r,s,o){return Se(this,z.delayedCall(0,r,s),o)},e.staggerTo=function(r,s,o,l,c,f,d){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=f,o.onCompleteParams=d,o.parent=this,new z(r,o,pe(this,c)),this},e.staggerFrom=function(r,s,o,l,c,f,d){return o.runBackwards=1,Ot(o).immediateRender=te(o.immediateRender),this.staggerTo(r,s,o,l,c,f,d)},e.staggerFromTo=function(r,s,o,l,c,f,d,n){return l.startAt=o,Ot(l).immediateRender=te(l.immediateRender),this.staggerTo(r,s,l,c,f,d,n)},e.render=function(r,s,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,d=r<=0?0:Y(r),n=this._zTime<0!=r<0&&(this._initted||!f),a,h,p,_,m,g,v,y,x,b,T,A;if(this!==F&&d>c&&r>=0&&(d=c),d!==this._tTime||o||n){if(l!==this._time&&f&&(d+=this._time-l,r+=this._time-l),a=d,x=this._start,y=this._ts,g=!y,n&&(f||(l=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(T=this._yoyo,m=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,s,o);if(a=Y(d%m),d===c?(_=this._repeat,a=f):(_=~~(d/m),_&&_===d/m&&(a=f,_--),a>f&&(a=f)),b=gt(this._tTime,m),!l&&this._tTime&&b!==_&&this._tTime-b*m-this._dur<=0&&(b=_),T&&_&1&&(a=f-a,A=1),_!==b&&!this._lock){var S=T&&b&1,w=S===(T&&_&1);if(_<b&&(S=!S),l=S?0:d%f?f:d,this._lock=1,this.render(l||(A?0:Y(_*m)),s,!f)._lock=0,this._tTime=d,!s&&this.parent&&ce(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),l&&l!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,w&&(this._lock=2,l=S?f:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;bn(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=no(this,Y(l),Y(a)),v&&(d-=a-(a=v._start))),this._tTime=d,this._time=a,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&a&&!s&&!_&&(ce(this,"onStart"),this._tTime!==d))return this;if(a>=l&&r>=0)for(h=this._first;h;){if(p=h._next,(h._act||a>=h._start)&&h._ts&&v!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(a-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(a-h._start)*h._ts,s,o),a!==this._time||!this._ts&&!g){v=0,p&&(d+=this._zTime=-H);break}}h=p}else{h=this._last;for(var E=r<0?r:a;h;){if(p=h._prev,(h._act||E<=h._end)&&h._ts&&v!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(E-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(E-h._start)*h._ts,s,o||K&&(h._initted||h._startAt)),a!==this._time||!this._ts&&!g){v=0,p&&(d+=this._zTime=E?-H:H);break}}h=p}}if(v&&!s&&(this.pause(),v.render(a>=l?0:-H)._zTime=a>=l?1:-1,this._ts))return this._start=x,fi(this),this.render(r,s,o);this._onUpdate&&!s&&ce(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(x===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(d===c&&this._ts>0||!d&&this._ts<0)&&ze(this,1),!s&&!(r<0&&!l)&&(d||l||!c)&&(ce(this,d===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,s){var o=this;if(Re(s)||(s=pe(this,s,r)),!(r instanceof Vt)){if(Z(r))return r.forEach(function(l){return o.add(l,s)}),this;if(W(r))return this.addLabel(r,s);if(q(r))r=z.delayedCall(0,r);else return this}return this!==r?Se(this,r,s):this},e.getChildren=function(r,s,o,l){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-ge);for(var c=[],f=this._first;f;)f._start>=l&&(f instanceof z?s&&c.push(f):(o&&c.push(f),r&&c.push.apply(c,f.getChildren(!0,s,o)))),f=f._next;return c},e.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},e.remove=function(r){return W(r)?this.removeLabel(r):q(r)?this.killTweensOf(r):(ci(this,r),r===this._recent&&(this._recent=this._last),Je(this))},e.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Y(ue.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),u.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},e.addLabel=function(r,s){return this.labels[r]=pe(this,s),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,s,o){var l=z.delayedCall(0,s||Rt,o);return l.data="isPause",this._hasPause=1,Se(this,l,pe(this,r))},e.removePause=function(r){var s=this._first;for(r=pe(this,r);s;)s._start===r&&s.data==="isPause"&&ze(s),s=s._next},e.killTweensOf=function(r,s,o){for(var l=this.getTweensOf(r,o),c=l.length;c--;)Ve!==l[c]&&l[c].kill(r,s);return this},e.getTweensOf=function(r,s){for(var o=[],l=ve(r),c=this._first,f=Re(s),d;c;)c instanceof z?Zs(c._targets,l)&&(f?(!Ve||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(d=c.getTweensOf(l,s)).length&&o.push.apply(o,d),c=c._next;return o},e.tweenTo=function(r,s){s=s||{};var o=this,l=pe(o,r),c=s,f=c.startAt,d=c.onStart,n=c.onStartParams,a=c.immediateRender,h,p=z.to(o,we({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(f&&"time"in f?f.time:o._time))/o.timeScale())||H,onStart:function(){if(o.pause(),!h){var m=s.duration||Math.abs((l-(f&&"time"in f?f.time:o._time))/o.timeScale());p._dur!==m&&vt(p,m,0,1).render(p._time,!0,!0),h=1}d&&d.apply(p,n||[])}},s));return a?p.render(0):p},e.tweenFromTo=function(r,s,o){return this.tweenTo(s,we({startAt:{time:pe(this,r)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(r){return r===void 0&&(r=this._time),wr(this,pe(this,r))},e.previousLabel=function(r){return r===void 0&&(r=this._time),wr(this,pe(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+H)},e.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,f;l;)l._start>=o&&(l._start+=r,l._end+=r),l=l._next;if(s)for(f in c)c[f]>=o&&(c[f]+=r);return Je(this)},e.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return u.prototype.invalidate.call(this,r)},e.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Je(this)},e.totalDuration=function(r){var s=0,o=this,l=o._last,c=ge,f,d,n;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(n=o.parent;l;)f=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Se(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(s-=d,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=f;vt(o,o===F&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(r){if(F._ts&&(tn(F,ti(r,F)),Jr=ue.frame),ue.frame>=mr){mr+=fe.autoSleep||120;var s=F._first;if((!s||!s._ts)&&fe.autoSleep&&ue._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ue.sleep()}}},t}(Vt);we(J.prototype,{_lock:0,_hasPause:0,_forcing:0});var xo=function(t,e,i,r,s,o,l){var c=new re(this._pt,t,e,0,1,On,null,s),f=0,d=0,n,a,h,p,_,m,g,v;for(c.b=i,c.e=r,i+="",r+="",(g=~r.indexOf("random("))&&(r=Dt(r)),o&&(v=[i,r],o(v,t,e),i=v[0],r=v[1]),a=i.match(di)||[];n=di.exec(r);)p=n[0],_=r.substring(f,n.index),h?h=(h+1)%5:_.substr(-5)==="rgba("&&(h=1),p!==a[d++]&&(m=parseFloat(a[d-1])||0,c._pt={_next:c._pt,p:_||d===1?_:",",s:m,c:p.charAt(1)==="="?ht(m,p)-m:parseFloat(p)-m,m:h&&h<4?Math.round:0},f=di.lastIndex);return c.c=f<r.length?r.substring(f,r.length):"",c.fp=l,($r.test(r)||g)&&(c.e=0),this._pt=c,c},nr=function(t,e,i,r,s,o,l,c,f,d){q(r)&&(r=r(s||0,t,o));var n=t[e],a=i!=="get"?i:q(n)?f?t[e.indexOf("set")||!q(t["get"+e.substr(3)])?e:"get"+e.substr(3)](f):t[e]():n,h=q(n)?f?ko:Cn:or,p;if(W(r)&&(~r.indexOf("random(")&&(r=Dt(r)),r.charAt(1)==="="&&(p=ht(a,r)+(j(a)||0),(p||p===0)&&(r=p))),!d||a!==r||Di)return!isNaN(a*r)&&r!==""?(p=new re(this._pt,t,e,+a||0,r-(a||0),typeof n=="boolean"?Co:Pn,0,h),f&&(p.fp=f),l&&p.modifier(l,this,t),this._pt=p):(!n&&!(e in t)&&er(e,r),xo.call(this,t,e,a,r,h,c||fe.stringFilter,f))},bo=function(t,e,i,r,s){if(q(t)&&(t=Mt(t,s,e,i,r)),!Pe(t)||t.style&&t.nodeType||Z(t)||Yr(t))return W(t)?Mt(t,s,e,i,r):t;var o={},l;for(l in t)o[l]=Mt(t[l],s,e,i,r);return o},Sn=function(t,e,i,r,s,o){var l,c,f,d;if(ae[t]&&(l=new ae[t]).init(s,l.rawVars?e[t]:bo(e[t],r,s,o,i),i,r,o)!==!1&&(i._pt=c=new re(i._pt,s,t,0,1,l.render,l,0,l.priority),i!==ct))for(f=i._ptLookup[i._targets.indexOf(s)],d=l._props.length;d--;)f[l._props[d]]=c;return l},Ve,Di,sr=function u(t,e,i){var r=t.vars,s=r.ease,o=r.startAt,l=r.immediateRender,c=r.lazy,f=r.onUpdate,d=r.runBackwards,n=r.yoyoEase,a=r.keyframes,h=r.autoRevert,p=t._dur,_=t._startAt,m=t._targets,g=t.parent,v=g&&g.data==="nested"?g.vars.targets:m,y=t._overwrite==="auto"&&!Ki,x=t.timeline,b,T,A,S,w,E,C,O,P,I,B,R,N;if(x&&(!a||!s)&&(s="none"),t._ease=et(s,mt.ease),t._yEase=n?xn(et(n===!0?s:n,mt.ease)):0,n&&t._yoyo&&!t._repeat&&(n=t._yEase,t._yEase=t._ease,t._ease=n),t._from=!x&&!!r.runBackwards,!x||a&&!r.stagger){if(O=m[0]?Qe(m[0]).harness:0,R=O&&r[O.prop],b=ei(r,tr),_&&(_._zTime<0&&_.progress(1),e<0&&d&&l&&!h?_.render(-1,!0):_.revert(d&&p?Wt:js),_._lazy=0),o){if(ze(t._startAt=z.set(m,we({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!_&&te(c),startAt:null,delay:0,onUpdate:f&&function(){return ce(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(K||!l&&!h)&&t._startAt.revert(Wt),l&&p&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(d&&p&&!_){if(e&&(l=!1),A=we({overwrite:!1,data:"isFromStart",lazy:l&&!_&&te(c),immediateRender:l,stagger:0,parent:g},b),R&&(A[O.prop]=R),ze(t._startAt=z.set(m,A)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(K?t._startAt.revert(Wt):t._startAt.render(-1,!0)),t._zTime=e,!l)u(t._startAt,H,H);else if(!e)return}for(t._pt=t._ptCache=0,c=p&&te(c)||c&&!p,T=0;T<m.length;T++){if(w=m[T],C=w._gsap||rr(m)[T]._gsap,t._ptLookup[T]=I={},Oi[C.id]&&qe.length&&Jt(),B=v===m?T:v.indexOf(w),O&&(P=new O).init(w,R||b,t,B,v)!==!1&&(t._pt=S=new re(t._pt,w,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function($){I[$]=S}),P.priority&&(E=1)),!O||R)for(A in b)ae[A]&&(P=Sn(A,b,t,B,w,v))?P.priority&&(E=1):I[A]=S=nr.call(t,w,A,"get",b[A],B,v,0,r.stringFilter);t._op&&t._op[T]&&t.kill(w,t._op[T]),y&&t._pt&&(Ve=t,F.killTweensOf(w,I,t.globalTime(e)),N=!t.parent,Ve=0),t._pt&&c&&(Oi[C.id]=1)}E&&Ln(t),t._onInit&&t._onInit(t)}t._onUpdate=f,t._initted=(!t._op||t._pt)&&!N,a&&e<=0&&x.render(ge,!0,!0)},To=function(t,e,i,r,s,o,l,c){var f=(t._pt&&t._ptCache||(t._ptCache={}))[e],d,n,a,h;if(!f)for(f=t._ptCache[e]=[],a=t._ptLookup,h=t._targets.length;h--;){if(d=a[h][e],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==e&&d.fp!==e;)d=d._next;if(!d)return Di=1,t.vars[e]="+=0",sr(t,l),Di=0,c?Bt(e+" not eligible for reset"):1;f.push(d)}for(h=f.length;h--;)n=f[h],d=n._pt||n,d.s=(r||r===0)&&!s?r:d.s+(r||0)+o*d.c,d.c=i-d.s,n.e&&(n.e=U(i)+j(n.e)),n.b&&(n.b=d.s+j(n.b))},Ao=function(t,e){var i=t[0]?Qe(t[0]).harness:0,r=i&&i.aliases,s,o,l,c;if(!r)return e;s=nt({},e);for(o in r)if(o in s)for(c=r[o].split(","),l=c.length;l--;)s[c[l]]=s[o];return s},So=function(t,e,i,r){var s=e.ease||r||"power1.inOut",o,l;if(Z(e))l=i[t]||(i[t]=[]),e.forEach(function(c,f){return l.push({t:f/(e.length-1)*100,v:c,e:s})});else for(o in e)l=i[o]||(i[o]=[]),o==="ease"||l.push({t:parseFloat(t),v:e[o],e:s})},Mt=function(t,e,i,r,s){return q(t)?t.call(e,i,r,s):W(t)&&~t.indexOf("random(")?Dt(t):t},kn=ir+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",En={};ie(kn+",id,stagger,delay,duration,paused,scrollTrigger",function(u){return En[u]=1});var z=function(u){zr(t,u);function t(i,r,s,o){var l;typeof r=="number"&&(s.duration=r,r=s,s=null),l=u.call(this,o?r:Ot(r))||this;var c=l.vars,f=c.duration,d=c.delay,n=c.immediateRender,a=c.stagger,h=c.overwrite,p=c.keyframes,_=c.defaults,m=c.scrollTrigger,g=c.yoyoEase,v=r.parent||F,y=(Z(i)||Yr(i)?Re(i[0]):"length"in r)?[i]:ve(i),x,b,T,A,S,w,E,C;if(l._targets=y.length?rr(y):Bt("GSAP target "+i+" not found. https://gsap.com",!fe.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=h,p||a||Ut(f)||Ut(d)){if(r=l.vars,x=l.timeline=new J({data:"nested",defaults:_||{},targets:v&&v.data==="nested"?v.vars.targets:y}),x.kill(),x.parent=x._dp=Oe(l),x._start=0,a||Ut(f)||Ut(d)){if(A=y.length,E=a&&fn(a),Pe(a))for(S in a)~kn.indexOf(S)&&(C||(C={}),C[S]=a[S]);for(b=0;b<A;b++)T=ei(r,En),T.stagger=0,g&&(T.yoyoEase=g),C&&nt(T,C),w=y[b],T.duration=+Mt(f,Oe(l),b,w,y),T.delay=(+Mt(d,Oe(l),b,w,y)||0)-l._delay,!a&&A===1&&T.delay&&(l._delay=d=T.delay,l._start+=d,T.delay=0),x.to(w,T,E?E(b,w,y):0),x._ease=L.none;x.duration()?f=d=0:l.timeline=0}else if(p){Ot(we(x.vars.defaults,{ease:"none"})),x._ease=et(p.ease||r.ease||"none");var O=0,P,I,B;if(Z(p))p.forEach(function(R){return x.to(y,R,">")}),x.duration();else{T={};for(S in p)S==="ease"||S==="easeEach"||So(S,p[S],T,p.easeEach);for(S in T)for(P=T[S].sort(function(R,N){return R.t-N.t}),O=0,b=0;b<P.length;b++)I=P[b],B={ease:I.e,duration:(I.t-(b?P[b-1].t:0))/100*f},B[S]=I.v,x.to(y,B,O),O+=B.duration;x.duration()<f&&x.to({},{duration:f-x.duration()})}}f||l.duration(f=x.duration())}else l.timeline=0;return h===!0&&!Ki&&(Ve=Oe(l),F.killTweensOf(y),Ve=0),Se(v,Oe(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(n||!f&&!p&&l._start===Y(v._time)&&te(n)&&to(Oe(l))&&v.data!=="nested")&&(l._tTime=-H,l.render(Math.max(0,-d)||0)),m&&an(Oe(l),m),l}var e=t.prototype;return e.render=function(r,s,o){var l=this._time,c=this._tDur,f=this._dur,d=r<0,n=r>c-H&&!d?c:r<H?0:r,a,h,p,_,m,g,v,y,x;if(!f)ro(this,r,s,o);else if(n!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d){if(a=n,y=this.timeline,this._repeat){if(_=f+this._rDelay,this._repeat<-1&&d)return this.totalTime(_*100+r,s,o);if(a=Y(n%_),n===c?(p=this._repeat,a=f):(p=~~(n/_),p&&p===Y(n/_)&&(a=f,p--),a>f&&(a=f)),g=this._yoyo&&p&1,g&&(x=this._yEase,a=f-a),m=gt(this._tTime,_),a===l&&!o&&this._initted&&p===m)return this._tTime=n,this;p!==m&&(y&&this._yEase&&bn(y,g),this.vars.repeatRefresh&&!g&&!this._lock&&this._time!==_&&this._initted&&(this._lock=o=1,this.render(Y(_*p),!0).invalidate()._lock=0))}if(!this._initted){if(ln(this,d?r:a,o,s,n))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&p!==m))return this;if(f!==this._dur)return this.render(r,s,o)}if(this._tTime=n,this._time=a,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(a/f),this._from&&(this.ratio=v=1-v),a&&!l&&!s&&!p&&(ce(this,"onStart"),this._tTime!==n))return this;for(h=this._pt;h;)h.r(v,h.d),h=h._next;y&&y.render(r<0?r:y._dur*y._ease(a/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(d&&Li(this,r,s,o),ce(this,"onUpdate")),this._repeat&&p!==m&&this.vars.onRepeat&&!s&&this.parent&&ce(this,"onRepeat"),(n===this._tDur||!n)&&this._tTime===n&&(d&&!this._onUpdate&&Li(this,r,!0,!0),(r||!f)&&(n===this._tDur&&this._ts>0||!n&&this._ts<0)&&ze(this,1),!s&&!(d&&!l)&&(n||l||g)&&(ce(this,n===c?"onComplete":"onReverseComplete",!0),this._prom&&!(n<c&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),u.prototype.invalidate.call(this,r)},e.resetTo=function(r,s,o,l,c){Ht||ue.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||sr(this,f),d=this._ease(f/this._dur),To(this,r,s,o,l,d,f,c)?this.resetTo(r,s,o,l,1):(hi(this,0),this.parent||sn(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?St(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ve&&Ve.vars.overwrite!==!0)._first||St(this),this.parent&&o!==this.timeline.totalDuration()&&vt(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=r?ve(r):l,f=this._ptLookup,d=this._pt,n,a,h,p,_,m,g;if((!s||s==="all")&&Js(l,c))return s==="all"&&(this._pt=0),St(this);for(n=this._op=this._op||[],s!=="all"&&(W(s)&&(_={},ie(s,function(v){return _[v]=1}),s=_),s=Ao(l,s)),g=l.length;g--;)if(~c.indexOf(l[g])){a=f[g],s==="all"?(n[g]=s,p=a,h={}):(h=n[g]=n[g]||{},p=s);for(_ in p)m=a&&a[_],m&&((!("kill"in m.d)||m.d.kill(_)===!0)&&ci(this,m,"_pt"),delete a[_]),h!=="all"&&(h[_]=1)}return this._initted&&!this._pt&&d&&St(this),this},t.to=function(r,s){return new t(r,s,arguments[2])},t.from=function(r,s){return Lt(1,arguments)},t.delayedCall=function(r,s,o,l){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},t.fromTo=function(r,s,o){return Lt(2,arguments)},t.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(r,s)},t.killTweensOf=function(r,s,o){return F.killTweensOf(r,s,o)},t}(Vt);we(z.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ie("staggerTo,staggerFrom,staggerFromTo",function(u){z[u]=function(){var t=new J,e=Ii.call(arguments,0);return e.splice(u==="staggerFromTo"?5:4,0,0),t[u].apply(t,e)}});var or=function(t,e,i){return t[e]=i},Cn=function(t,e,i){return t[e](i)},ko=function(t,e,i,r){return t[e](r.fp,i)},Eo=function(t,e,i){return t.setAttribute(e,i)},ar=function(t,e){return q(t[e])?Cn:Zi(t[e])&&t.setAttribute?Eo:or},Pn=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Co=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},On=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(t===1&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},lr=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Po=function(t,e,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(t,e,i),s=o},Oo=function(t){for(var e=this._pt,i,r;e;)r=e._next,e.p===t&&!e.op||e.op===t?ci(this,e,"_pt"):e.dep||(i=1),e=r;return!i},Lo=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},Ln=function(t){for(var e=t._pt,i,r,s,o;e;){for(i=e._next,r=s;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:o)?e._prev._next=e:s=e,(e._next=r)?r._prev=e:o=e,e=i}t._pt=s},re=function(){function u(e,i,r,s,o,l,c,f,d){this.t=i,this.s=s,this.c=o,this.p=r,this.r=l||Pn,this.d=c||this,this.set=f||or,this.pr=d||0,this._next=e,e&&(e._prev=this)}var t=u.prototype;return t.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=Lo,this.m=i,this.mt=s,this.tween=r},u}();ie(ir+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(u){return tr[u]=1});he.TweenMax=he.TweenLite=z;he.TimelineLite=he.TimelineMax=J;F=new J({sortChildren:!1,defaults:mt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});fe.stringFilter=wn;var tt=[],jt={},Mo=[],br=0,Io=0,yi=function(t){return(jt[t]||Mo).map(function(e){return e()})},Hi=function(){var t=Date.now(),e=[];t-br>2&&(yi("matchMediaInit"),tt.forEach(function(i){var r=i.queries,s=i.conditions,o,l,c,f;for(l in r)o=Ae.matchMedia(r[l]).matches,o&&(c=1),o!==s[l]&&(s[l]=o,f=1);f&&(i.revert(),c&&e.push(i))}),yi("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),br=t,yi("matchMedia"))},Mn=function(){function u(e,i){this.selector=i&&Bi(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Io++,e&&this.add(e)}var t=u.prototype;return t.add=function(i,r,s){q(i)&&(s=r,r=i,i=q);var o=this,l=function(){var f=V,d=o.selector,n;return f&&f!==o&&f.data.push(o),s&&(o.selector=Bi(s)),V=o,n=r.apply(o,arguments),q(n)&&o._r.push(n),V=f,o.selector=d,o.isReverted=!1,n};return o.last=l,i===q?l(o,function(c){return o.add(null,c)}):i?o[i]=l:l},t.ignore=function(i){var r=V;V=null,i(this),V=r},t.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof u?i.push.apply(i,r.getTweens()):r instanceof z&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,r){var s=this;if(i?function(){for(var l=s.getTweens(),c=s.data.length,f;c--;)f=s.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,n){return n.g-d.g||-1/0}).forEach(function(d){return d.t.revert(i)}),c=s.data.length;c--;)f=s.data[c],f instanceof J?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof z)&&f.revert&&f.revert(i);s._r.forEach(function(d){return d(i,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var o=tt.length;o--;)tt[o].id===this.id&&tt.splice(o,1)},t.revert=function(i){this.kill(i||{})},u}(),Bo=function(){function u(e){this.contexts=[],this.scope=e,V&&V.data.push(this)}var t=u.prototype;return t.add=function(i,r,s){Pe(i)||(i={matches:i});var o=new Mn(0,s||this.scope),l=o.conditions={},c,f,d;V&&!o.selector&&(o.selector=V.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(f in i)f==="all"?d=1:(c=Ae.matchMedia(i[f]),c&&(tt.indexOf(o)<0&&tt.push(o),(l[f]=c.matches)&&(d=1),c.addListener?c.addListener(Hi):c.addEventListener("change",Hi)));return d&&r(o,function(n){return o.add(null,n)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},u}(),ii={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return gn(r)})},timeline:function(t){return new J(t)},getTweensOf:function(t,e){return F.getTweensOf(t,e)},getProperty:function(t,e,i,r){W(t)&&(t=ve(t)[0]);var s=Qe(t||{}).get,o=i?nn:rn;return i==="native"&&(i=""),t&&(e?o((ae[e]&&ae[e].get||s)(t,e,i,r)):function(l,c,f){return o((ae[l]&&ae[l].get||s)(t,l,c,f))})},quickSetter:function(t,e,i){if(t=ve(t),t.length>1){var r=t.map(function(d){return se.quickSetter(d,e,i)}),s=r.length;return function(d){for(var n=s;n--;)r[n](d)}}t=t[0]||{};var o=ae[e],l=Qe(t),c=l.harness&&(l.harness.aliases||{})[e]||e,f=o?function(d){var n=new o;ct._pt=0,n.init(t,i?d+i:d,ct,0,[t]),n.render(1,n),ct._pt&&lr(1,ct)}:l.set(t,c);return o?f:function(d){return f(t,c,i?d+i:d,l,1)}},quickTo:function(t,e,i){var r,s=se.to(t,nt((r={},r[e]="+=0.1",r.paused=!0,r),i||{})),o=function(c,f,d){return s.resetTo(e,c,f,d)};return o.tween=s,o},isTweening:function(t){return F.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=et(t.ease,mt.ease)),gr(mt,t||{})},config:function(t){return gr(fe,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,r=t.plugins,s=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!ae[l]&&!he[l]&&Bt(e+" effect requires "+l+" plugin.")}),pi[e]=function(l,c,f){return i(ve(l),we(c||{},s),f)},o&&(J.prototype[e]=function(l,c,f){return this.add(pi[e](l,Pe(c)?c:(f=c)&&{},this),f)})},registerEase:function(t,e){L[t]=et(e)},parseEase:function(t,e){return arguments.length?et(t,e):L},getById:function(t){return F.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new J(t),r,s;for(i.smoothChildTiming=te(t.smoothChildTiming),F.remove(i),i._dp=0,i._time=i._tTime=F._time,r=F._first;r;)s=r._next,(e||!(!r._dur&&r instanceof z&&r.vars.onComplete===r._targets[0]))&&Se(i,r,r._start-r._delay),r=s;return Se(F,i,0),i},context:function(t,e){return t?new Mn(t,e):V},matchMedia:function(t){return new Bo(t)},matchMediaRefresh:function(){return tt.forEach(function(t){var e=t.conditions,i,r;for(r in e)e[r]&&(e[r]=!1,i=1);i&&t.revert()})||Hi()},addEventListener:function(t,e){var i=jt[t]||(jt[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=jt[t],r=i&&i.indexOf(e);r>=0&&i.splice(r,1)},utils:{wrap:fo,wrapYoyo:ho,distribute:fn,random:_n,snap:hn,normalize:co,getUnit:j,clamp:oo,splitColor:vn,toArray:ve,selector:Bi,mapRange:pn,pipe:lo,unitize:uo,interpolate:_o,shuffle:cn},install:Zr,effects:pi,ticker:ue,updateRoot:J.updateRoot,plugins:ae,globalTimeline:F,core:{PropTween:re,globals:Qr,Tween:z,Timeline:J,Animation:Vt,getCache:Qe,_removeLinkedListItem:ci,reverting:function(){return K},context:function(t){return t&&V&&(V.data.push(t),t._ctx=V),V},suppressOverwrites:function(t){return Ki=t}}};ie("to,from,fromTo,delayedCall,set,killTweensOf",function(u){return ii[u]=z[u]});ue.add(J.updateRoot);ct=ii.to({},{duration:0});var Ro=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Do=function(t,e){var i=t._targets,r,s,o;for(r in e)for(s=i.length;s--;)o=t._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=Ro(o,r)),o&&o.modifier&&o.modifier(e[r],t,i[s],r))},wi=function(t,e){return{name:t,rawVars:1,init:function(r,s,o){o._onInit=function(l){var c,f;if(W(s)&&(c={},ie(s,function(d){return c[d]=1}),s=c),e){c={};for(f in s)c[f]=e(s[f]);s=c}Do(l,s)}}}},se=ii.registerPlugin({name:"attr",init:function(t,e,i,r,s){var o,l,c;this.tween=i;for(o in e)c=t.getAttribute(o)||"",l=this.add(t,"setAttribute",(c||0)+"",e[o],r,s,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)K?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},wi("roundProps",Ri),wi("modifiers"),wi("snap",hn))||ii;z.version=J.version=se.version="3.12.5";Kr=1;Qi()&&yt();L.Power0;L.Power1;L.Power2;L.Power3;L.Power4;L.Linear;L.Quad;L.Cubic;L.Quart;L.Quint;L.Strong;L.Elastic;L.Back;L.SteppedEase;L.Bounce;L.Sine;L.Expo;L.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tr,Ne,_t,ur,Ze,Ar,cr,Ho=function(){return typeof window<"u"},De={},Ke=180/Math.PI,dt=Math.PI/180,at=Math.atan2,Sr=1e8,fr=/([A-Z])/g,Vo=/(left|right|width|margin|padding|x)/i,No=/[\s,\(]\S/,ke={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vi=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Fo=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Go=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},qo=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},In=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Bn=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Uo=function(t,e,i){return t.style[e]=i},zo=function(t,e,i){return t.style.setProperty(e,i)},Xo=function(t,e,i){return t._gsap[e]=i},Yo=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},Wo=function(t,e,i,r,s){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},$o=function(t,e,i,r,s){var o=t._gsap;o[e]=i,o.renderTransform(s,o)},G="transform",ne=G+"Origin",jo=function u(t,e){var i=this,r=this.target,s=r.style,o=r._gsap;if(t in De&&s){if(this.tfm=this.tfm||{},t!=="transform")t=ke[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return i.tfm[l]=Me(r,l)}):this.tfm[t]=o.x?o[t]:Me(r,t),t===ne&&(this.tfm.zOrigin=o.zOrigin);else return ke.transform.split(",").forEach(function(l){return u.call(i,l,e)});if(this.props.indexOf(G)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ne,e,"")),t=G}(s||e)&&this.props.push(t,e,s[t])},Rn=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Ko=function(){var t=this.props,e=this.target,i=e.style,r=e._gsap,s,o;for(s=0;s<t.length;s+=3)t[s+1]?e[t[s]]=t[s+2]:t[s+2]?i[t[s]]=t[s+2]:i.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(fr,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),s=cr(),(!s||!s.isStart)&&!i[G]&&(Rn(i),r.zOrigin&&i[ne]&&(i[ne]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Dn=function(t,e){var i={target:t,props:[],revert:Ko,save:jo};return t._gsap||se.core.getCache(t),e&&e.split(",").forEach(function(r){return i.save(r)}),i},Hn,Ni=function(t,e){var i=Ne.createElementNS?Ne.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ne.createElement(t);return i&&i.style?i:Ne.createElement(t)},Ce=function u(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(fr,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&u(t,wt(e)||e,1)||""},kr="O,Moz,ms,Ms,Webkit".split(","),wt=function(t,e,i){var r=e||Ze,s=r.style,o=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(kr[o]+t in s););return o<0?null:(o===3?"ms":o>=0?kr[o]:"")+t},Fi=function(){Ho()&&window.document&&(Tr=window,Ne=Tr.document,_t=Ne.documentElement,Ze=Ni("div")||{style:{}},Ni("div"),G=wt(G),ne=G+"Origin",Ze.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Hn=!!wt("perspective"),cr=se.core.reverting,ur=1)},xi=function u(t){var e=Ni("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(_t.appendChild(e),e.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=u}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),_t.removeChild(e),this.style.cssText=s,o},Er=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Vn=function(t){var e;try{e=t.getBBox()}catch{e=xi.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===xi||(e=xi.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+Er(t,["x","cx","x1"])||0,y:+Er(t,["y","cy","y1"])||0,width:0,height:0}:e},Nn=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Vn(t))},st=function(t,e){if(e){var i=t.style,r;e in De&&e!==ne&&(e=G),i.removeProperty?(r=e.substr(0,2),(r==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(r==="--"?e:e.replace(fr,"-$1").toLowerCase())):i.removeAttribute(e)}},Fe=function(t,e,i,r,s,o){var l=new re(t._pt,e,i,0,1,o?Bn:In);return t._pt=l,l.b=r,l.e=s,t._props.push(i),l},Cr={deg:1,rad:1,turn:1},Zo={grid:1,flex:1},Xe=function u(t,e,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",l=Ze.style,c=Vo.test(e),f=t.tagName.toLowerCase()==="svg",d=(f?"client":"offset")+(c?"Width":"Height"),n=100,a=r==="px",h=r==="%",p,_,m,g;if(r===o||!s||Cr[r]||Cr[o])return s;if(o!=="px"&&!a&&(s=u(t,e,i,"px")),g=t.getCTM&&Nn(t),(h||o==="%")&&(De[e]||~e.indexOf("adius")))return p=g?t.getBBox()[c?"width":"height"]:t[d],U(h?s/p*n:s/100*p);if(l[c?"width":"height"]=n+(a?o:r),_=~e.indexOf("adius")||r==="em"&&t.appendChild&&!f?t:t.parentNode,g&&(_=(t.ownerSVGElement||{}).parentNode),(!_||_===Ne||!_.appendChild)&&(_=Ne.body),m=_._gsap,m&&h&&m.width&&c&&m.time===ue.time&&!m.uncache)return U(s/m.width*n);if(h&&(e==="height"||e==="width")){var v=t.style[e];t.style[e]=n+r,p=t[d],v?t.style[e]=v:st(t,e)}else(h||o==="%")&&!Zo[Ce(_,"display")]&&(l.position=Ce(t,"position")),_===t&&(l.position="static"),_.appendChild(Ze),p=Ze[d],_.removeChild(Ze),l.position="absolute";return c&&h&&(m=Qe(_),m.time=ue.time,m.width=_[d]),U(a?p*s/n:p&&s?n/p*s:0)},Me=function(t,e,i,r){var s;return ur||Fi(),e in ke&&e!=="transform"&&(e=ke[e],~e.indexOf(",")&&(e=e.split(",")[0])),De[e]&&e!=="transform"?(s=Ft(t,r),s=e!=="transformOrigin"?s[e]:s.svg?s.origin:ni(Ce(t,ne))+" "+s.zOrigin+"px"):(s=t.style[e],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=ri[e]&&ri[e](t,e,i)||Ce(t,e)||en(t,e)||(e==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Xe(t,e,s,i)+i:s},Qo=function(t,e,i,r){if(!i||i==="none"){var s=wt(e,t,1),o=s&&Ce(t,s,1);o&&o!==i?(e=s,i=o):e==="borderColor"&&(i=Ce(t,"borderTopColor"))}var l=new re(this._pt,t.style,e,0,1,On),c=0,f=0,d,n,a,h,p,_,m,g,v,y,x,b;if(l.b=i,l.e=r,i+="",r+="",r==="auto"&&(_=t.style[e],t.style[e]=r,r=Ce(t,e)||r,_?t.style[e]=_:st(t,e)),d=[i,r],wn(d),i=d[0],r=d[1],a=i.match(ut)||[],b=r.match(ut)||[],b.length){for(;n=ut.exec(r);)m=n[0],v=r.substring(c,n.index),p?p=(p+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(p=1),m!==(_=a[f++]||"")&&(h=parseFloat(_)||0,x=_.substr((h+"").length),m.charAt(1)==="="&&(m=ht(h,m)+x),g=parseFloat(m),y=m.substr((g+"").length),c=ut.lastIndex-y.length,y||(y=y||fe.units[e]||x,c===r.length&&(r+=y,l.e+=y)),x!==y&&(h=Xe(t,e,_,y)||0),l._pt={_next:l._pt,p:v||f===1?v:",",s:h,c:g-h,m:p&&p<4||e==="zIndex"?Math.round:0});l.c=c<r.length?r.substring(c,r.length):""}else l.r=e==="display"&&r==="none"?Bn:In;return $r.test(r)&&(l.e=0),this._pt=l,l},Pr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Jo=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(t=i,i=r,r=t),e[0]=Pr[i]||i,e[1]=Pr[r]||r,e.join(" ")},ea=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,r=i.style,s=e.u,o=i._gsap,l,c,f;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),f=s.length;--f>-1;)l=s[f],De[l]&&(c=1,l=l==="transformOrigin"?ne:G),st(i,l);c&&(st(i,G),o&&(o.svg&&i.removeAttribute("transform"),Ft(i,1),o.uncache=1,Rn(r)))}},ri={clearProps:function(t,e,i,r,s){if(s.data!=="isFromStart"){var o=t._pt=new re(t._pt,e,i,0,0,ea);return o.u=r,o.pr=-10,o.tween=s,t._props.push(i),1}}},Nt=[1,0,0,1,0,0],Fn={},Gn=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Or=function(t){var e=Ce(t,G);return Gn(e)?Nt:e.substr(7).match(Wr).map(U)},hr=function(t,e){var i=t._gsap||Qe(t),r=t.style,s=Or(t),o,l,c,f;return i.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Nt:s):(s===Nt&&!t.offsetParent&&t!==_t&&!i.svg&&(c=r.display,r.display="block",o=t.parentNode,(!o||!t.offsetParent)&&(f=1,l=t.nextElementSibling,_t.appendChild(t)),s=Or(t),c?r.display=c:st(t,"display"),f&&(l?o.insertBefore(t,l):o?o.appendChild(t):_t.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Gi=function(t,e,i,r,s,o){var l=t._gsap,c=s||hr(t,!0),f=l.xOrigin||0,d=l.yOrigin||0,n=l.xOffset||0,a=l.yOffset||0,h=c[0],p=c[1],_=c[2],m=c[3],g=c[4],v=c[5],y=e.split(" "),x=parseFloat(y[0])||0,b=parseFloat(y[1])||0,T,A,S,w;i?c!==Nt&&(A=h*m-p*_)&&(S=x*(m/A)+b*(-_/A)+(_*v-m*g)/A,w=x*(-p/A)+b*(h/A)-(h*v-p*g)/A,x=S,b=w):(T=Vn(t),x=T.x+(~y[0].indexOf("%")?x/100*T.width:x),b=T.y+(~(y[1]||y[0]).indexOf("%")?b/100*T.height:b)),r||r!==!1&&l.smooth?(g=x-f,v=b-d,l.xOffset=n+(g*h+v*_)-g,l.yOffset=a+(g*p+v*m)-v):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=b,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!i,t.style[ne]="0px 0px",o&&(Fe(o,l,"xOrigin",f,x),Fe(o,l,"yOrigin",d,b),Fe(o,l,"xOffset",n,l.xOffset),Fe(o,l,"yOffset",a,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+b)},Ft=function(t,e){var i=t._gsap||new An(t);if("x"in i&&!e&&!i.uncache)return i;var r=t.style,s=i.scaleX<0,o="px",l="deg",c=getComputedStyle(t),f=Ce(t,ne)||"0",d,n,a,h,p,_,m,g,v,y,x,b,T,A,S,w,E,C,O,P,I,B,R,N,$,We,He,Q,Te,_e,ee,de;return d=n=a=_=m=g=v=y=x=0,h=p=1,i.svg=!!(t.getCTM&&Nn(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[G]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[G]!=="none"?c[G]:"")),r.scale=r.rotate=r.translate="none"),A=hr(t,i.svg),i.svg&&(i.uncache?($=t.getBBox(),f=i.xOrigin-$.x+"px "+(i.yOrigin-$.y)+"px",N=""):N=!e&&t.getAttribute("data-svg-origin"),Gi(t,N||f,!!N||i.originIsAbsolute,i.smooth!==!1,A)),b=i.xOrigin||0,T=i.yOrigin||0,A!==Nt&&(C=A[0],O=A[1],P=A[2],I=A[3],d=B=A[4],n=R=A[5],A.length===6?(h=Math.sqrt(C*C+O*O),p=Math.sqrt(I*I+P*P),_=C||O?at(O,C)*Ke:0,v=P||I?at(P,I)*Ke+_:0,v&&(p*=Math.abs(Math.cos(v*dt))),i.svg&&(d-=b-(b*C+T*P),n-=T-(b*O+T*I))):(de=A[6],_e=A[7],He=A[8],Q=A[9],Te=A[10],ee=A[11],d=A[12],n=A[13],a=A[14],S=at(de,Te),m=S*Ke,S&&(w=Math.cos(-S),E=Math.sin(-S),N=B*w+He*E,$=R*w+Q*E,We=de*w+Te*E,He=B*-E+He*w,Q=R*-E+Q*w,Te=de*-E+Te*w,ee=_e*-E+ee*w,B=N,R=$,de=We),S=at(-P,Te),g=S*Ke,S&&(w=Math.cos(-S),E=Math.sin(-S),N=C*w-He*E,$=O*w-Q*E,We=P*w-Te*E,ee=I*E+ee*w,C=N,O=$,P=We),S=at(O,C),_=S*Ke,S&&(w=Math.cos(S),E=Math.sin(S),N=C*w+O*E,$=B*w+R*E,O=O*w-C*E,R=R*w-B*E,C=N,B=$),m&&Math.abs(m)+Math.abs(_)>359.9&&(m=_=0,g=180-g),h=U(Math.sqrt(C*C+O*O+P*P)),p=U(Math.sqrt(R*R+de*de)),S=at(B,R),v=Math.abs(S)>2e-4?S*Ke:0,x=ee?1/(ee<0?-ee:ee):0),i.svg&&(N=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Gn(Ce(t,G)),N&&t.setAttribute("transform",N))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(h*=-1,v+=_<=0?180:-180,_+=_<=0?180:-180):(p*=-1,v+=v<=0?180:-180)),e=e||i.uncache,i.x=d-((i.xPercent=d&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=n-((i.yPercent=n&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=a+o,i.scaleX=U(h),i.scaleY=U(p),i.rotation=U(_)+l,i.rotationX=U(m)+l,i.rotationY=U(g)+l,i.skewX=v+l,i.skewY=y+l,i.transformPerspective=x+o,(i.zOrigin=parseFloat(f.split(" ")[2])||!e&&i.zOrigin||0)&&(r[ne]=ni(f)),i.xOffset=i.yOffset=0,i.force3D=fe.force3D,i.renderTransform=i.svg?ia:Hn?qn:ta,i.uncache=0,i},ni=function(t){return(t=t.split(" "))[0]+" "+t[1]},bi=function(t,e,i){var r=j(e);return U(parseFloat(e)+parseFloat(Xe(t,"x",i+"px",r)))+r},ta=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,qn(t,e)},$e="0deg",bt="0px",je=") ",qn=function(t,e){var i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,l=i.y,c=i.z,f=i.rotation,d=i.rotationY,n=i.rotationX,a=i.skewX,h=i.skewY,p=i.scaleX,_=i.scaleY,m=i.transformPerspective,g=i.force3D,v=i.target,y=i.zOrigin,x="",b=g==="auto"&&t&&t!==1||g===!0;if(y&&(n!==$e||d!==$e)){var T=parseFloat(d)*dt,A=Math.sin(T),S=Math.cos(T),w;T=parseFloat(n)*dt,w=Math.cos(T),o=bi(v,o,A*w*-y),l=bi(v,l,-Math.sin(T)*-y),c=bi(v,c,S*w*-y+y)}m!==bt&&(x+="perspective("+m+je),(r||s)&&(x+="translate("+r+"%, "+s+"%) "),(b||o!==bt||l!==bt||c!==bt)&&(x+=c!==bt||b?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+je),f!==$e&&(x+="rotate("+f+je),d!==$e&&(x+="rotateY("+d+je),n!==$e&&(x+="rotateX("+n+je),(a!==$e||h!==$e)&&(x+="skew("+a+", "+h+je),(p!==1||_!==1)&&(x+="scale("+p+", "+_+je),v.style[G]=x||"translate(0, 0)"},ia=function(t,e){var i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,l=i.y,c=i.rotation,f=i.skewX,d=i.skewY,n=i.scaleX,a=i.scaleY,h=i.target,p=i.xOrigin,_=i.yOrigin,m=i.xOffset,g=i.yOffset,v=i.forceCSS,y=parseFloat(o),x=parseFloat(l),b,T,A,S,w;c=parseFloat(c),f=parseFloat(f),d=parseFloat(d),d&&(d=parseFloat(d),f+=d,c+=d),c||f?(c*=dt,f*=dt,b=Math.cos(c)*n,T=Math.sin(c)*n,A=Math.sin(c-f)*-a,S=Math.cos(c-f)*a,f&&(d*=dt,w=Math.tan(f-d),w=Math.sqrt(1+w*w),A*=w,S*=w,d&&(w=Math.tan(d),w=Math.sqrt(1+w*w),b*=w,T*=w)),b=U(b),T=U(T),A=U(A),S=U(S)):(b=n,S=a,T=A=0),(y&&!~(o+"").indexOf("px")||x&&!~(l+"").indexOf("px"))&&(y=Xe(h,"x",o,"px"),x=Xe(h,"y",l,"px")),(p||_||m||g)&&(y=U(y+p-(p*b+_*A)+m),x=U(x+_-(p*T+_*S)+g)),(r||s)&&(w=h.getBBox(),y=U(y+r/100*w.width),x=U(x+s/100*w.height)),w="matrix("+b+","+T+","+A+","+S+","+y+","+x+")",h.setAttribute("transform",w),v&&(h.style[G]=w)},ra=function(t,e,i,r,s){var o=360,l=W(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?Ke:1),f=c-r,d=r+f+"deg",n,a;return l&&(n=s.split("_")[1],n==="short"&&(f%=o,f!==f%(o/2)&&(f+=f<0?o:-o)),n==="cw"&&f<0?f=(f+o*Sr)%o-~~(f/o)*o:n==="ccw"&&f>0&&(f=(f-o*Sr)%o-~~(f/o)*o)),t._pt=a=new re(t._pt,e,i,r,f,Fo),a.e=d,a.u="deg",t._props.push(i),a},Lr=function(t,e){for(var i in e)t[i]=e[i];return t},na=function(t,e,i){var r=Lr({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,l,c,f,d,n,a,h,p;r.svg?(f=i.getAttribute("transform"),i.setAttribute("transform",""),o[G]=e,l=Ft(i,1),st(i,G),i.setAttribute("transform",f)):(f=getComputedStyle(i)[G],o[G]=e,l=Ft(i,1),o[G]=f);for(c in De)f=r[c],d=l[c],f!==d&&s.indexOf(c)<0&&(h=j(f),p=j(d),n=h!==p?Xe(i,c,f,p):parseFloat(f),a=parseFloat(d),t._pt=new re(t._pt,l,c,n,a-n,Vi),t._pt.u=p||0,t._props.push(c));Lr(l,r)};ie("padding,margin,Width,Radius",function(u,t){var e="Top",i="Right",r="Bottom",s="Left",o=(t<3?[e,i,r,s]:[e+s,e+i,r+i,r+s]).map(function(l){return t<2?u+l:"border"+l+u});ri[t>1?"border"+u:u]=function(l,c,f,d,n){var a,h;if(arguments.length<4)return a=o.map(function(p){return Me(l,p,f)}),h=a.join(" "),h.split(a[0]).length===5?a[0]:h;a=(d+"").split(" "),h={},o.forEach(function(p,_){return h[p]=a[_]=a[_]||a[(_-1)/2|0]}),l.init(c,h,n)}});var Un={name:"css",register:Fi,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,s){var o=this._props,l=t.style,c=i.vars.startAt,f,d,n,a,h,p,_,m,g,v,y,x,b,T,A,S;ur||Fi(),this.styles=this.styles||Dn(t),S=this.styles.props,this.tween=i;for(_ in e)if(_!=="autoRound"&&(d=e[_],!(ae[_]&&Sn(_,e,i,r,t,s)))){if(h=typeof d,p=ri[_],h==="function"&&(d=d.call(i,r,t,s),h=typeof d),h==="string"&&~d.indexOf("random(")&&(d=Dt(d)),p)p(this,t,_,d,i)&&(A=1);else if(_.substr(0,2)==="--")f=(getComputedStyle(t).getPropertyValue(_)+"").trim(),d+="",Ue.lastIndex=0,Ue.test(f)||(m=j(f),g=j(d)),g?m!==g&&(f=Xe(t,_,f,g)+g):m&&(d+=m),this.add(l,"setProperty",f,d,r,s,0,0,_),o.push(_),S.push(_,0,l[_]);else if(h!=="undefined"){if(c&&_ in c?(f=typeof c[_]=="function"?c[_].call(i,r,t,s):c[_],W(f)&&~f.indexOf("random(")&&(f=Dt(f)),j(f+"")||f==="auto"||(f+=fe.units[_]||j(Me(t,_))||""),(f+"").charAt(1)==="="&&(f=Me(t,_))):f=Me(t,_),a=parseFloat(f),v=h==="string"&&d.charAt(1)==="="&&d.substr(0,2),v&&(d=d.substr(2)),n=parseFloat(d),_ in ke&&(_==="autoAlpha"&&(a===1&&Me(t,"visibility")==="hidden"&&n&&(a=0),S.push("visibility",0,l.visibility),Fe(this,l,"visibility",a?"inherit":"hidden",n?"inherit":"hidden",!n)),_!=="scale"&&_!=="transform"&&(_=ke[_],~_.indexOf(",")&&(_=_.split(",")[0]))),y=_ in De,y){if(this.styles.save(_),x||(b=t._gsap,b.renderTransform&&!e.parseTransform||Ft(t,e.parseTransform),T=e.smoothOrigin!==!1&&b.smooth,x=this._pt=new re(this._pt,l,G,0,1,b.renderTransform,b,0,-1),x.dep=1),_==="scale")this._pt=new re(this._pt,b,"scaleY",b.scaleY,(v?ht(b.scaleY,v+n):n)-b.scaleY||0,Vi),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){S.push(ne,0,l[ne]),d=Jo(d),b.svg?Gi(t,d,0,T,0,this):(g=parseFloat(d.split(" ")[2])||0,g!==b.zOrigin&&Fe(this,b,"zOrigin",b.zOrigin,g),Fe(this,l,_,ni(f),ni(d)));continue}else if(_==="svgOrigin"){Gi(t,d,1,T,0,this);continue}else if(_ in Fn){ra(this,b,_,a,v?ht(a,v+d):d);continue}else if(_==="smoothOrigin"){Fe(this,b,"smooth",b.smooth,d);continue}else if(_==="force3D"){b[_]=d;continue}else if(_==="transform"){na(this,d,t);continue}}else _ in l||(_=wt(_)||_);if(y||(n||n===0)&&(a||a===0)&&!No.test(d)&&_ in l)m=(f+"").substr((a+"").length),n||(n=0),g=j(d)||(_ in fe.units?fe.units[_]:m),m!==g&&(a=Xe(t,_,f,g)),this._pt=new re(this._pt,y?b:l,_,a,(v?ht(a,v+n):n)-a,!y&&(g==="px"||_==="zIndex")&&e.autoRound!==!1?qo:Vi),this._pt.u=g||0,m!==g&&g!=="%"&&(this._pt.b=f,this._pt.r=Go);else if(_ in l)Qo.call(this,t,_,f,v?v+d:d);else if(_ in t)this.add(t,_,f||t[_],v?v+d:d,r,s);else if(_!=="parseTransform"){er(_,d);continue}y||(_ in l?S.push(_,0,l[_]):S.push(_,1,f||t[_])),o.push(_)}}A&&Ln(this)},render:function(t,e){if(e.tween._time||!cr())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Me,aliases:ke,getSetter:function(t,e,i){var r=ke[e];return r&&r.indexOf(",")<0&&(e=r),e in De&&e!==ne&&(t._gsap.x||Me(t,"x"))?i&&Ar===i?e==="scale"?Yo:Xo:(Ar=i||{})&&(e==="scale"?Wo:$o):t.style&&!Zi(t.style[e])?Uo:~e.indexOf("-")?zo:ar(t,e)},core:{_removeProperty:st,_getMatrix:hr}};se.utils.checkPrefix=wt;se.core.getStyleSaver=Dn;(function(u,t,e,i){var r=ie(u+","+t+","+e,function(s){De[s]=1});ie(t,function(s){fe.units[s]="deg",Fn[s]=1}),ke[r[13]]=u+","+t,ie(i,function(s){var o=s.split(":");ke[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ie("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(u){fe.units[u]="px"});se.registerPlugin(Un);var X=se.registerPlugin(Un)||se;X.core.Tween;/*!
 * paths 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var sa=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,oa=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,aa=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,la=/(^[#\.][a-z]|[a-y][a-z])/i,ua=Math.PI/180,ca=180/Math.PI,zt=Math.sin,Xt=Math.cos,ye=Math.abs,Ie=Math.sqrt,fa=Math.atan2,qi=1e8,Mr=function(t){return typeof t=="string"},zn=function(t){return typeof t=="number"},ha=function(t){return typeof t>"u"},_a={},da={},si=1e5,Xn=function(t){return Math.round((t+qi)%1*si)/si||(t<0?0:1)},M=function(t){return Math.round(t*si)/si||0},Ir=function(t){return Math.round(t*1e10)/1e10||0},Br=function(t,e,i,r){var s=t[e],o=r===1?6:Ui(s,i,r);if((o||!r)&&o+i+2<s.length)return t.splice(e,0,s.slice(0,i+o+2)),s.splice(0,i+o),1},Yn=function(t,e,i){var r=t.length,s=~~(i*r);if(t[s]>e){for(;--s&&t[s]>e;);s<0&&(s=0)}else for(;t[++s]<e&&s<r;);return s<r?s:r-1},pa=function(t,e){var i=t.length;for(e||t.reverse();i--;)t[i].reversed||va(t[i])},Rr=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},ma=function(t,e){var i=t.length,r=t[i-1]||[],s=r.length;i&&e[0]===r[s-2]&&e[1]===r[s-1]&&(e=r.concat(e.slice(2)),i--),t[i]=e};function Kt(u){u=Mr(u)&&la.test(u)&&document.querySelector(u)||u;var t=u.getAttribute?u:0,e;return t&&(u=u.getAttribute("d"))?(t._gsPath||(t._gsPath={}),e=t._gsPath[u],e&&!e._dirty?e:t._gsPath[u]=oi(u)):u?Mr(u)?oi(u):zn(u[0])?[u]:u:console.warn("Expecting a <path> element or an SVG path data string")}function ga(u){for(var t=[],e=0;e<u.length;e++)t[e]=Rr(u[e],u[e].slice(0));return Rr(u,t)}function va(u){var t=0,e;for(u.reverse();t<u.length;t+=2)e=u[t],u[t]=u[t+1],u[t+1]=e;u.reversed=!u.reversed}var ya=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path"),r=[].slice.call(t.attributes),s=r.length,o;for(e=","+e+",";--s>-1;)o=r[s].nodeName.toLowerCase(),e.indexOf(","+o+",")<0&&i.setAttributeNS(null,o,r[s].nodeValue);return i},wa={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},xa=function(t,e){for(var i=e?e.split(","):[],r={},s=i.length;--s>-1;)r[i[s]]=+t.getAttribute(i[s])||0;return r};function ba(u,t){var e=u.tagName.toLowerCase(),i=.552284749831,r,s,o,l,c,f,d,n,a,h,p,_,m,g,v,y,x,b,T,A,S,w;return e==="path"||!u.getBBox?u:(f=ya(u,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),w=xa(u,wa[e]),e==="rect"?(l=w.rx,c=w.ry||l,s=w.x,o=w.y,h=w.width-l*2,p=w.height-c*2,l||c?(_=s+l*(1-i),m=s+l,g=m+h,v=g+l*i,y=g+l,x=o+c*(1-i),b=o+c,T=b+p,A=T+c*i,S=T+c,r="M"+y+","+b+" V"+T+" C"+[y,A,v,S,g,S,g-(g-m)/3,S,m+(g-m)/3,S,m,S,_,S,s,A,s,T,s,T-(T-b)/3,s,b+(T-b)/3,s,b,s,x,_,o,m,o,m+(g-m)/3,o,g-(g-m)/3,o,g,o,v,o,y,x,y,b].join(",")+"z"):r="M"+(s+h)+","+o+" v"+p+" h"+-h+" v"+-p+" h"+h+"z"):e==="circle"||e==="ellipse"?(e==="circle"?(l=c=w.r,n=l*i):(l=w.rx,c=w.ry,n=c*i),s=w.cx,o=w.cy,d=l*i,r="M"+(s+l)+","+o+" C"+[s+l,o+n,s+d,o+c,s,o+c,s-d,o+c,s-l,o+n,s-l,o,s-l,o-n,s-d,o-c,s,o-c,s+d,o-c,s+l,o-n,s+l,o].join(",")+"z"):e==="line"?r="M"+w.x1+","+w.y1+" L"+w.x2+","+w.y2:(e==="polyline"||e==="polygon")&&(a=(u.getAttribute("points")+"").match(oa)||[],s=a.shift(),o=a.shift(),r="M"+s+","+o+" L"+a.join(","),e==="polygon"&&(r+=","+s+","+o+"z")),f.setAttribute("d",jn(f._gsRawPath=oi(r))),t&&u.parentNode&&(u.parentNode.insertBefore(f,u),u.parentNode.removeChild(u)),f)}function Wn(u,t,e){var i=u[t],r=u[t+2],s=u[t+4],o;return i+=(r-i)*e,r+=(s-r)*e,i+=(r-i)*e,o=r+(s+(u[t+6]-s)*e-r)*e-i,i=u[t+1],r=u[t+3],s=u[t+5],i+=(r-i)*e,r+=(s-r)*e,i+=(r-i)*e,M(fa(r+(s+(u[t+7]-s)*e-r)*e-i,o)*ca)}function $n(u,t,e){e=ha(e)?1:Ir(e)||0,t=Ir(t)||0;var i=Math.max(0,~~(ye(e-t)-1e-8)),r=ga(u);if(t>e&&(t=1-t,e=1-e,pa(r),r.totalLength=0),t<0||e<0){var s=Math.abs(~~Math.min(t,e))+1;t+=s,e+=s}r.totalLength||it(r);var o=e>1,l=Dr(r,t,_a,!0),c=Dr(r,e,da),f=c.segment,d=l.segment,n=c.segIndex,a=l.segIndex,h=c.i,p=l.i,_=a===n,m=h===p&&_,g,v,y,x,b,T,A,S;if(o||i){for(g=n<a||_&&h<p||m&&c.t<l.t,Br(r,a,p,l.t)&&(a++,g||(n++,m?(c.t=(c.t-l.t)/(1-l.t),h=0):_&&(h-=p))),Math.abs(1-(e-t))<1e-5?n=a-1:!c.t&&n?n--:Br(r,n,h,c.t)&&g&&a++,l.t===1&&(a=(a+1)%r.length),b=[],T=r.length,A=1+T*i,S=a,A+=(T-a+n)%T,x=0;x<A;x++)ma(b,r[S++%T]);r=b}else if(y=c.t===1?6:Ui(f,h,c.t),t!==e)for(v=Ui(d,p,m?l.t/c.t:l.t),_&&(y+=v),f.splice(h+y+2),(v||p)&&d.splice(0,p+v),x=r.length;x--;)(x<a||x>n)&&r.splice(x,1);else f.angle=Wn(f,h+y,0),h+=y,l=f[h],c=f[h+1],f.length=f.totalLength=0,f.totalPoints=r.totalPoints=8,f.push(l,c,l,c,l,c,l,c);return r.totalLength=0,r}function Ta(u,t,e){t=t||0,u.samples||(u.samples=[],u.lookup=[]);var i=~~u.resolution||12,r=1/i,s=e?t+e*6+1:u.length,o=u[t],l=u[t+1],c=t?t/6*i:0,f=u.samples,d=u.lookup,n=(t?u.minLength:qi)||qi,a=f[c+e*i-1],h=t?f[c-1]:0,p,_,m,g,v,y,x,b,T,A,S,w,E,C,O,P,I;for(f.length=d.length=0,_=t+2;_<s;_+=6){if(m=u[_+4]-o,g=u[_+2]-o,v=u[_]-o,b=u[_+5]-l,T=u[_+3]-l,A=u[_+1]-l,y=x=S=w=0,ye(m)<.01&&ye(b)<.01&&ye(v)+ye(A)<.01)u.length>8&&(u.splice(_,6),_-=6,s-=6);else for(p=1;p<=i;p++)C=r*p,E=1-C,y=x-(x=(C*C*m+3*E*(C*g+E*v))*C),S=w-(w=(C*C*b+3*E*(C*T+E*A))*C),P=Ie(S*S+y*y),P<n&&(n=P),h+=P,f[c++]=h;o+=m,l+=b}if(a)for(a-=h;c<f.length;c++)f[c]+=a;if(f.length&&n){if(u.totalLength=I=f[f.length-1]||0,u.minLength=n,I/n<9999)for(P=O=0,p=0;p<I;p+=n)d[P++]=f[O]<p?++O:O}else u.totalLength=f[0]=0;return t?h-f[t/2-1]:h}function it(u,t){var e,i,r;for(r=e=i=0;r<u.length;r++)u[r].resolution=~~t||12,i+=u[r].length,e+=Ta(u[r]);return u.totalPoints=i,u.totalLength=e,u}function Ui(u,t,e){if(e<=0||e>=1)return 0;var i=u[t],r=u[t+1],s=u[t+2],o=u[t+3],l=u[t+4],c=u[t+5],f=u[t+6],d=u[t+7],n=i+(s-i)*e,a=s+(l-s)*e,h=r+(o-r)*e,p=o+(c-o)*e,_=n+(a-n)*e,m=h+(p-h)*e,g=l+(f-l)*e,v=c+(d-c)*e;return a+=(g-a)*e,p+=(v-p)*e,u.splice(t+2,4,M(n),M(h),M(_),M(m),M(_+(a-_)*e),M(m+(p-m)*e),M(a),M(p),M(g),M(v)),u.samples&&u.samples.splice(t/6*u.resolution|0,0,0,0,0,0,0,0),6}function Dr(u,t,e,i){e=e||{},u.totalLength||it(u),(t<0||t>1)&&(t=Xn(t));var r=0,s=u[0],o,l,c,f,d,n,a;if(!t)a=n=r=0,s=u[0];else if(t===1)a=1,r=u.length-1,s=u[r],n=s.length-8;else{if(u.length>1){for(c=u.totalLength*t,d=n=0;(d+=u[n++].totalLength)<c;)r=n;s=u[r],f=d-s.totalLength,t=(c-f)/(d-f)||0}o=s.samples,l=s.resolution,c=s.totalLength*t,n=s.lookup.length?s.lookup[~~(c/s.minLength)]||0:Yn(o,c,t),f=n?o[n-1]:0,d=o[n],d<c&&(f=d,d=o[++n]),a=1/l*((c-f)/(d-f)+n%l),n=~~(n/l)*6,i&&a===1&&(n+6<s.length?(n+=6,a=0):r+1<u.length&&(n=a=0,s=u[++r]))}return e.t=a,e.i=n,e.path=u,e.segment=s,e.segIndex=r,e}function Hr(u,t,e,i){var r=u[0],s=i||{},o,l,c,f,d,n,a,h,p;if((t<0||t>1)&&(t=Xn(t)),r.lookup||it(u),u.length>1){for(c=u.totalLength*t,d=n=0;(d+=u[n++].totalLength)<c;)r=u[n];f=d-r.totalLength,t=(c-f)/(d-f)||0}return o=r.samples,l=r.resolution,c=r.totalLength*t,n=r.lookup.length?r.lookup[t<1?~~(c/r.minLength):r.lookup.length-1]||0:Yn(o,c,t),f=n?o[n-1]:0,d=o[n],d<c&&(f=d,d=o[++n]),a=1/l*((c-f)/(d-f)+n%l)||0,p=1-a,n=~~(n/l)*6,h=r[n],s.x=M((a*a*(r[n+6]-h)+3*p*(a*(r[n+4]-h)+p*(r[n+2]-h)))*a+h),s.y=M((a*a*(r[n+7]-(h=r[n+1]))+3*p*(a*(r[n+5]-h)+p*(r[n+3]-h)))*a+h),e&&(s.angle=r.totalLength?Wn(r,n,a>=1?1-1e-9:a||1e-9):r.angle||0),s}function Et(u,t,e,i,r,s,o){for(var l=u.length,c,f,d,n,a;--l>-1;)for(c=u[l],f=c.length,d=0;d<f;d+=2)n=c[d],a=c[d+1],c[d]=n*t+a*i+s,c[d+1]=n*e+a*r+o;return u._dirty=1,u}function Aa(u,t,e,i,r,s,o,l,c){if(!(u===l&&t===c)){e=ye(e),i=ye(i);var f=r%360*ua,d=Xt(f),n=zt(f),a=Math.PI,h=a*2,p=(u-l)/2,_=(t-c)/2,m=d*p+n*_,g=-n*p+d*_,v=m*m,y=g*g,x=v/(e*e)+y/(i*i);x>1&&(e=Ie(x)*e,i=Ie(x)*i);var b=e*e,T=i*i,A=(b*T-b*y-T*v)/(b*y+T*v);A<0&&(A=0);var S=(s===o?-1:1)*Ie(A),w=S*(e*g/i),E=S*-(i*m/e),C=(u+l)/2,O=(t+c)/2,P=C+(d*w-n*E),I=O+(n*w+d*E),B=(m-w)/e,R=(g-E)/i,N=(-m-w)/e,$=(-g-E)/i,We=B*B+R*R,He=(R<0?-1:1)*Math.acos(B/Ie(We)),Q=(B*$-R*N<0?-1:1)*Math.acos((B*N+R*$)/Ie(We*(N*N+$*$)));isNaN(Q)&&(Q=a),!o&&Q>0?Q-=h:o&&Q<0&&(Q+=h),He%=h,Q%=h;var Te=Math.ceil(ye(Q)/(h/4)),_e=[],ee=Q/Te,de=4/3*zt(ee/2)/(1+Xt(ee/2)),us=d*e,cs=n*e,fs=n*-i,hs=d*i,oe;for(oe=0;oe<Te;oe++)r=He+oe*ee,m=Xt(r),g=zt(r),B=Xt(r+=ee),R=zt(r),_e.push(m-de*g,g+de*m,B+de*R,R-de*B,B,R);for(oe=0;oe<_e.length;oe+=2)m=_e[oe],g=_e[oe+1],_e[oe]=m*us+g*fs+P,_e[oe+1]=m*cs+g*hs+I;return _e[oe-2]=l,_e[oe-1]=c,_e}}function oi(u){var t=(u+"").replace(aa,function(w){var E=+w;return E<1e-4&&E>-1e-4?0:E}).match(sa)||[],e=[],i=0,r=0,s=2/3,o=t.length,l=0,c="ERROR: malformed path: "+u,f,d,n,a,h,p,_,m,g,v,y,x,b,T,A,S=function(E,C,O,P){v=(O-E)/3,y=(P-C)/3,_.push(E+v,C+y,O-v,P-y,O,P)};if(!u||!isNaN(t[0])||isNaN(t[1]))return console.log(c),e;for(f=0;f<o;f++)if(b=h,isNaN(t[f])?(h=t[f].toUpperCase(),p=h!==t[f]):f--,n=+t[f+1],a=+t[f+2],p&&(n+=i,a+=r),f||(m=n,g=a),h==="M")_&&(_.length<8?e.length-=1:l+=_.length),i=m=n,r=g=a,_=[n,a],e.push(_),f+=2,h="L";else if(h==="C")_||(_=[0,0]),p||(i=r=0),_.push(n,a,i+t[f+3]*1,r+t[f+4]*1,i+=t[f+5]*1,r+=t[f+6]*1),f+=6;else if(h==="S")v=i,y=r,(b==="C"||b==="S")&&(v+=i-_[_.length-4],y+=r-_[_.length-3]),p||(i=r=0),_.push(v,y,n,a,i+=t[f+3]*1,r+=t[f+4]*1),f+=4;else if(h==="Q")v=i+(n-i)*s,y=r+(a-r)*s,p||(i=r=0),i+=t[f+3]*1,r+=t[f+4]*1,_.push(v,y,i+(n-i)*s,r+(a-r)*s,i,r),f+=4;else if(h==="T")v=i-_[_.length-4],y=r-_[_.length-3],_.push(i+v,r+y,n+(i+v*1.5-n)*s,a+(r+y*1.5-a)*s,i=n,r=a),f+=2;else if(h==="H")S(i,r,i=n,r),f+=1;else if(h==="V")S(i,r,i,r=n+(p?r-i:0)),f+=1;else if(h==="L"||h==="Z")h==="Z"&&(n=m,a=g,_.closed=!0),(h==="L"||ye(i-n)>.5||ye(r-a)>.5)&&(S(i,r,n,a),h==="L"&&(f+=2)),i=n,r=a;else if(h==="A"){if(T=t[f+4],A=t[f+5],v=t[f+6],y=t[f+7],d=7,T.length>1&&(T.length<3?(y=v,v=A,d--):(y=A,v=T.substr(2),d-=2),A=T.charAt(1),T=T.charAt(0)),x=Aa(i,r,+t[f+1],+t[f+2],+t[f+3],+T,+A,(p?i:0)+v*1,(p?r:0)+y*1),f+=d,x)for(d=0;d<x.length;d++)_.push(x[d]);i=_[_.length-2],r=_[_.length-1]}else console.log(c);return f=_.length,f<6?(e.pop(),f=0):_[0]===_[f-2]&&_[1]===_[f-1]&&(_.closed=!0),e.totalPoints=l+f,e}function Sa(u,t){t===void 0&&(t=1);for(var e=u[0],i=0,r=[e,i],s=2;s<u.length;s+=2)r.push(e,i,u[s],i=(u[s]-e)*t/2,e=u[s],-i);return r}function zi(u,t){ye(u[0]-u[2])<1e-4&&ye(u[1]-u[3])<1e-4&&(u=u.slice(2));var e=u.length-2,i=+u[0],r=+u[1],s=+u[2],o=+u[3],l=[i,r,i,r],c=s-i,f=o-r,d=Math.abs(u[e]-i)<.001&&Math.abs(u[e+1]-r)<.001,n,a,h,p,_,m,g,v,y,x,b,T,A,S,w;for(d&&(u.push(s,o),s=i,o=r,i=u[e-2],r=u[e-1],u.unshift(i,r),e+=4),t=t||t===0?+t:1,h=2;h<e;h+=2)n=i,a=r,i=s,r=o,s=+u[h+2],o=+u[h+3],!(i===s&&r===o)&&(p=c,_=f,c=s-i,f=o-r,m=Ie(p*p+_*_),g=Ie(c*c+f*f),v=Ie(Math.pow(c/g+p/m,2)+Math.pow(f/g+_/m,2)),y=(m+g)*t*.25/v,x=i-(i-n)*(m?y/m:0),b=i+(s-i)*(g?y/g:0),T=i-(x+((b-x)*(m*3/(m+g)+.5)/4||0)),A=r-(r-a)*(m?y/m:0),S=r+(o-r)*(g?y/g:0),w=r-(A+((S-A)*(m*3/(m+g)+.5)/4||0)),(i!==n||r!==a)&&l.push(M(x+T),M(A+w),M(i),M(r),M(b+T),M(S+w)));return i!==s||r!==o||l.length<4?l.push(M(s),M(o),M(s),M(o)):l.length-=2,l.length===2?l.push(i,r,i,r,i,r):d&&(l.splice(0,6),l.length=l.length-6),l}function jn(u){zn(u[0])&&(u=[u]);var t="",e=u.length,i,r,s,o;for(r=0;r<e;r++){for(o=u[r],t+="M"+M(o[0])+","+M(o[1])+" C",i=o.length,s=2;s<i;s++)t+=M(o[s++])+","+M(o[s++])+" "+M(o[s++])+","+M(o[s++])+" "+M(o[s++])+","+M(o[s])+" ";o.closed&&(t+="z")}return t}/*!
 * matrix 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Be,rt,_r,_i,Ct,Zt,ai,It,be="transform",Xi=be+"Origin",Kn,Zn=function(t){var e=t.ownerDocument||t;for(!(be in t.style)&&("msTransform"in t.style)&&(be="msTransform",Xi=be+"Origin");e.parentNode&&(e=e.parentNode););if(rt=window,ai=new Gt,e){Be=e,_r=e.documentElement,_i=e.body,It=Be.createElementNS("http://www.w3.org/2000/svg","g"),It.style.transform="none";var i=e.createElement("div"),r=e.createElement("div"),s=e&&(e.body||e.firstElementChild);s&&s.appendChild&&(s.appendChild(i),i.appendChild(r),i.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),Kn=r.offsetParent!==i,s.removeChild(i))}return e},ka=function(t){for(var e,i;t&&t!==_i;)i=t._gsap,i&&i.uncache&&i.get(t,"x"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),e?e.push(i):e=[i]),t=t.parentNode;return e},Qn=[],Jn=[],Ea=function(){return rt.pageYOffset||Be.scrollTop||_r.scrollTop||_i.scrollTop||0},Ca=function(){return rt.pageXOffset||Be.scrollLeft||_r.scrollLeft||_i.scrollLeft||0},dr=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},Pa=function u(t){if(rt.getComputedStyle(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return u(t)},Ti=function u(t,e){if(t.parentNode&&(Be||Zn(t))){var i=dr(t),r=i?i.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",s=i?e?"rect":"g":"div",o=e!==2?0:100,l=e===3?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",f=Be.createElementNS?Be.createElementNS(r.replace(/^https/,"http"),s):Be.createElement(s);return e&&(i?(Zt||(Zt=u(t)),f.setAttribute("width",.01),f.setAttribute("height",.01),f.setAttribute("transform","translate("+o+","+l+")"),Zt.appendChild(f)):(Ct||(Ct=u(t),Ct.style.cssText=c),f.style.cssText=c+"width:0.1px;height:0.1px;top:"+l+"px;left:"+o+"px",Ct.appendChild(f))),f}throw"Need document and parent."},Oa=function(t){for(var e=new Gt,i=0;i<t.numberOfItems;i++)e.multiply(t.getItem(i).matrix);return e},La=function(t){var e=t.getCTM(),i;return e||(i=t.style[be],t.style[be]="none",t.appendChild(It),e=It.getCTM(),t.removeChild(It),i?t.style[be]=i:t.style.removeProperty(be.replace(/([A-Z])/g,"-$1").toLowerCase())),e||ai.clone()},Ma=function(t,e){var i=dr(t),r=t===i,s=i?Qn:Jn,o=t.parentNode,l,c,f,d,n,a;if(t===rt)return t;if(s.length||s.push(Ti(t,1),Ti(t,2),Ti(t,3)),l=i?Zt:Ct,i)r?(f=La(t),d=-f.e/f.a,n=-f.f/f.d,c=ai):t.getBBox?(f=t.getBBox(),c=t.transform?t.transform.baseVal:{},c=c.numberOfItems?c.numberOfItems>1?Oa(c):c.getItem(0).matrix:ai,d=c.a*f.x+c.c*f.y,n=c.b*f.x+c.d*f.y):(c=new Gt,d=n=0),e&&t.tagName.toLowerCase()==="g"&&(d=n=0),(r?i:o).appendChild(l),l.setAttribute("transform","matrix("+c.a+","+c.b+","+c.c+","+c.d+","+(c.e+d)+","+(c.f+n)+")");else{if(d=n=0,Kn)for(c=t.offsetParent,f=t;f&&(f=f.parentNode)&&f!==c&&f.parentNode;)(rt.getComputedStyle(f)[be]+"").length>4&&(d=f.offsetLeft,n=f.offsetTop,f=0);if(a=rt.getComputedStyle(t),a.position!=="absolute"&&a.position!=="fixed")for(c=t.offsetParent;o&&o!==c;)d+=o.scrollLeft||0,n+=o.scrollTop||0,o=o.parentNode;f=l.style,f.top=t.offsetTop-n+"px",f.left=t.offsetLeft-d+"px",f[be]=a[be],f[Xi]=a[Xi],f.position=a.position==="fixed"?"fixed":"absolute",t.parentNode.appendChild(l)}return l},Ai=function(t,e,i,r,s,o,l){return t.a=e,t.b=i,t.c=r,t.d=s,t.e=o,t.f=l,t},Gt=function(){function u(e,i,r,s,o,l){e===void 0&&(e=1),i===void 0&&(i=0),r===void 0&&(r=0),s===void 0&&(s=1),o===void 0&&(o=0),l===void 0&&(l=0),Ai(this,e,i,r,s,o,l)}var t=u.prototype;return t.inverse=function(){var i=this.a,r=this.b,s=this.c,o=this.d,l=this.e,c=this.f,f=i*o-r*s||1e-10;return Ai(this,o/f,-r/f,-s/f,i/f,(s*c-o*l)/f,-(i*c-r*l)/f)},t.multiply=function(i){var r=this.a,s=this.b,o=this.c,l=this.d,c=this.e,f=this.f,d=i.a,n=i.c,a=i.b,h=i.d,p=i.e,_=i.f;return Ai(this,d*r+a*o,d*s+a*l,n*r+h*o,n*s+h*l,c+p*r+_*o,f+p*s+_*l)},t.clone=function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(i){var r=this.a,s=this.b,o=this.c,l=this.d,c=this.e,f=this.f;return r===i.a&&s===i.b&&o===i.c&&l===i.d&&c===i.e&&f===i.f},t.apply=function(i,r){r===void 0&&(r={});var s=i.x,o=i.y,l=this.a,c=this.b,f=this.c,d=this.d,n=this.e,a=this.f;return r.x=s*l+o*f+n||0,r.y=s*c+o*d+a||0,r},u}();function pt(u,t,e,i){if(!u||!u.parentNode||(Be||Zn(u)).documentElement===u)return new Gt;var r=ka(u),s=dr(u),o=s?Qn:Jn,l=Ma(u,e),c=o[0].getBoundingClientRect(),f=o[1].getBoundingClientRect(),d=o[2].getBoundingClientRect(),n=l.parentNode,a=!i&&Pa(u),h=new Gt((f.left-c.left)/100,(f.top-c.top)/100,(d.left-c.left)/100,(d.top-c.top)/100,c.left+(a?0:Ca()),c.top+(a?0:Ea()));if(n.removeChild(l),r)for(c=r.length;c--;)f=r[c],f.scaleX=f.scaleY=0,f.renderTransform(1,f);return t?h.inverse():h}/*!
 * MotionPathPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ia="x,translateX,left,marginLeft,xPercent".split(","),Ba="y,translateY,top,marginTop,yPercent".split(","),Ra=Math.PI/180,me,es,lt,Yi,Si,Vr,Da=function(){return me||typeof window<"u"&&(me=window.gsap)&&me.registerPlugin&&me},Tt=function(t,e,i,r){for(var s=e.length,o=r===2?0:r,l=0;l<s;l++)t[o]=parseFloat(e[l][i]),r===2&&(t[o+1]=0),o+=2;return t},ft=function(t,e,i){return parseFloat(t._gsap.get(t,e,i||"px"))||0},ts=function(t){var e=t[0],i=t[1],r;for(r=2;r<t.length;r+=2)e=t[r]+=e,i=t[r+1]+=i},Nr=function(t,e,i,r,s,o,l,c,f){if(l.type==="cubic")e=[e];else{l.fromCurrent!==!1&&e.unshift(ft(i,r,c),s?ft(i,s,f):0),l.relative&&ts(e);var d=s?zi:Sa;e=[d(e,l.curviness)]}return e=o(is(e,i,l)),li(t,i,r,e,"x",c),s&&li(t,i,s,e,"y",f),it(e,l.resolution||(l.curviness===0?20:12))},Ha=function(t){return t},Va=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,Fr=function(t,e,i){var r=pt(t),s=0,o=0,l;return(t.tagName+"").toLowerCase()==="svg"?(l=t.viewBox.baseVal,l.width||(l={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):l=e&&t.getBBox&&t.getBBox(),e&&e!=="auto"&&(s=e.push?e[0]*(l?l.width:t.offsetWidth||0):e.x,o=e.push?e[1]*(l?l.height:t.offsetHeight||0):e.y),i.apply(s||o?r.apply({x:s,y:o}):{x:r.e,y:r.f})},Wi=function(t,e,i,r){var s=pt(t.parentNode,!0,!0),o=s.clone().multiply(pt(e)),l=Fr(t,i,s),c=Fr(e,r,s),f=c.x,d=c.y,n;return o.e=o.f=0,r==="auto"&&e.getTotalLength&&e.tagName.toLowerCase()==="path"&&(n=e.getAttribute("d").match(Va)||[],n=o.apply({x:+n[0],y:+n[1]}),f+=n.x,d+=n.y),n&&(n=o.apply(e.getBBox()),f-=n.x,d-=n.y),o.e=f-l.x,o.f=d-l.y,o},is=function(t,e,i){var r=i.align,s=i.matrix,o=i.offsetX,l=i.offsetY,c=i.alignOrigin,f=t[0][0],d=t[0][1],n=ft(e,"x"),a=ft(e,"y"),h,p,_;return!t||!t.length?Kt("M0,0L0,0"):(r&&(r==="self"||(h=Yi(r)[0]||e)===e?Et(t,1,0,0,1,n-f,a-d):(c&&c[2]!==!1?me.set(e,{transformOrigin:c[0]*100+"% "+c[1]*100+"%"}):c=[ft(e,"xPercent")/-100,ft(e,"yPercent")/-100],p=Wi(e,h,c,"auto"),_=p.apply({x:f,y:d}),Et(t,p.a,p.b,p.c,p.d,n+p.e-(_.x-p.e),a+p.f-(_.y-p.f)))),s?Et(t,s.a,s.b,s.c,s.d,s.e,s.f):(o||l)&&Et(t,1,0,0,1,o||0,l||0),t)},li=function(t,e,i,r,s,o){var l=e._gsap,c=l.harness,f=c&&c.aliases&&c.aliases[i],d=f&&f.indexOf(",")<0?f:i,n=t._pt=new es(t._pt,e,d,0,0,Ha,0,l.set(e,d,t));n.u=lt(l.get(e,d,o))||0,n.path=r,n.pp=s,t._props.push(d)},Na=function(t,e){return function(i){return t||e!==1?$n(i,t,e):i}},rs={version:"3.12.5",name:"motionPath",register:function(t,e,i){me=t,lt=me.utils.getUnit,Yi=me.utils.toArray,Si=me.core.getStyleSaver,Vr=me.core.reverting||function(){},es=i},init:function(t,e,i){if(!me)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof e=="object"&&!e.style)||!e.path)&&(e={path:e});var r=[],s=e,o=s.path,l=s.autoRotate,c=s.unitX,f=s.unitY,d=s.x,n=s.y,a=o[0],h=Na(e.start,"end"in e?e.end:1),p,_;if(this.rawPaths=r,this.target=t,this.tween=i,this.styles=Si&&Si(t,"transform"),(this.rotate=l||l===0)&&(this.rOffset=parseFloat(l)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=lt(t._gsap.get(t,this.rProp))||0),Array.isArray(o)&&!("closed"in o)&&typeof a!="number"){for(_ in a)!d&&~Ia.indexOf(_)?d=_:!n&&~Ba.indexOf(_)&&(n=_);d&&n?r.push(Nr(this,Tt(Tt([],o,d,0),o,n,1),t,d,n,h,e,c||lt(o[0][d]),f||lt(o[0][n]))):d=n=0;for(_ in a)_!==d&&_!==n&&r.push(Nr(this,Tt([],o,_,2),t,_,0,h,e,lt(o[0][_])))}else p=h(is(Kt(e.path),t,e)),it(p,e.resolution),r.push(p),li(this,t,e.x||"x",p,"x",e.unitX||"px"),li(this,t,e.y||"y",p,"y",e.unitY||"px")},render:function(t,e){var i=e.rawPaths,r=i.length,s=e._pt;if(e.tween._time||!Vr()){for(t>1?t=1:t<0&&(t=0);r--;)Hr(i[r],t,!r&&e.rotate,i[r]);for(;s;)s.set(s.t,s.p,s.path[s.pp]+s.u,s.d,t),s=s._next;e.rotate&&e.rSet(e.target,e.rProp,i[0].angle*(e.radians?Ra:1)+e.rOffset+e.ru,e,t)}else e.styles.revert()},getLength:function(t){return it(Kt(t)).totalLength},sliceRawPath:$n,getRawPath:Kt,pointsToSegment:zi,stringToRawPath:oi,rawPathToString:jn,transformRawPath:Et,getGlobalMatrix:pt,getPositionOnPath:Hr,cacheRawPathMeasurements:it,convertToPath:function(t,e){return Yi(t).map(function(i){return ba(i,e!==!1)})},convertCoordinates:function(t,e,i){var r=pt(e,!0,!0).multiply(pt(t));return i?r.apply(i):r},getAlignMatrix:Wi,getRelativePosition:function(t,e,i,r){var s=Wi(t,e,i,r);return{x:s.e,y:s.f}},arrayToRawPath:function(t,e){e=e||{};var i=Tt(Tt([],t,e.x||"x",0),t,e.y||"y",1);return e.relative&&ts(i),[e.type==="cubic"?i:zi(i,e.curviness)]}};Da()&&me.registerPlugin(rs);X.registerPlugin(rs);const{random:Ee}=X.utils;var xe=(u=>(u.L="l",u.O="o",u.S="s",u.T="t",u.J="j",u.I="i",u.Z="z",u))(xe||{});const Fa=Object.values(xe),Ga="animation-tetris-block",Le=document.documentElement.clientWidth>600?150:80,Pt={animatedElement:null,killAnimation:null},qa=u=>{const i=u.clientWidth-Le-30,r=Ee(30,i),s=-Le,o=u.clientHeight-Le,l=[{x:r,y:s}];for(;;){const c=l[l.length-1],f=l[l.length-2];if(c.y>=o)break;if(!f||c.y===f.y){l.push({x:c.x,y:c.y+Le});continue}const d=Ee([c.x-Le,c.x,c.x+Le]),n=d<30||d>i?c.x:d,a=n===c.x?c.y+Le:c.y;l.push({x:n,y:a})}return l},ns=async u=>{const t=Ee(Fa),e=document.createElement("div");e.classList.add(Ga,`${t}-block`),e.style.width=`${Le}px`,e.style.height=`${Le}px`,Pt.animatedElement=e,u.append(e);const i=qa(u),[r]=i.splice(0,1);X.set(e,r),X.to(e,{motionPath:i,ease:`steps(${i.length})`,duration:8,onStart(){Pt.killAnimation=this.kill.bind(this)},onComplete(){e.remove(),Pt.animatedElement=null,Pt.killAnimation=null,ns(u)}})},Ua=u=>{const t=document.querySelector(u);if(t)ns(t);else{const e=new Error("Container for tetris animation is not existing");console.error(e)}return Pt},za="animation-explode-particle",Xa=20,Ya=u=>{const t=u.getBoundingClientRect(),e={x:t.left+t.width/2,y:t.top+t.height/2};return new Promise(i=>{for(let r=0;r<Xa;r++){const s=document.createElement("div");s.className=za,u.insertAdjacentElement("beforebegin",s),X.set(s,e),X.to(s,{x:Ee(e.x-200,e.x+200),y:Ee(e.y-200,e.y+200),opacity:0,ease:"steps(10)",duration:1,onComplete:()=>{s.remove(),i(!0)}})}u.remove()})},Wa="/retro-tetris/assets/pixel-transition-bNJEVRHO.mp3",$a="animation-pixel-fill-grid",Yt="animation-pixel-fill-cell",Gr=80,ss=async(u,t)=>{const e=Math.ceil(u.clientWidth/Gr),i=Math.ceil(u.clientHeight/Gr),r=document.createElement("div");r.className=$a,r.style.gridTemplateColumns=new Array(e).fill("1fr").join(" "),r.style.gridTemplateRows=new Array(i).fill("1fr").join(" ");const s=e*i;for(let l=0;l<s;l++){const c=document.createElement("div");c.className=Yt,r.append(c)}u.append(r);const o=await le(Wa);return new Promise(l=>{const c=X.timeline();c.set(`.${Yt}`,{backgroundColor:"transparent"}),c.to(`.${Yt}`,{duration:.001,backgroundColor:t.color,stagger:{amount:o.duration(),from:"random"},onComplete:()=>{t.onFilled&&t.onFilled()}}),c.to(`.${Yt}`,{backgroundColor:"transparent",duration:.2,onComplete:()=>{r.remove(),l(!0)}})})},ja="/retro-tetris/assets/main-theme-kcqKGzhI.mp3",Ka="/retro-tetris/assets/start-k3M_pGew.mp3";class Za extends ui{constructor(){super({templateSelector:"#start-screen",title:"Start game"});k(this,"BG_ANIMATION_CONTAINER_SELECTOR","#start-screen-animated-bg");k(this,"HIGH_SCORE_SELECTOR","#start-screen-high-score");k(this,"START_TEXT_SELECTOR","#start-screen-start-text");k(this,"bgAnimationData");k(this,"mainThemeAudio");k(this,"onStartCallback");k(this,"startListenerParams")}showHighScore(){const e=document.querySelector(this.HIGH_SCORE_SELECTOR),i=localStorage.getItem("high-score");i?(e.style.visibility="visible",e.innerHTML=`<b>HIGH SCORE</b>${i}`):e.style.visibility="hidden"}async start(){window.removeEventListener(this.startListenerParams.eventName,this.startListenerParams.handler),this.mainThemeAudio.stop(),le(Ka);const e=document.querySelector(this.START_TEXT_SELECTOR);e&&(e.style.animation="none"),this.bgAnimationData.animatedElement&&this.bgAnimationData.killAnimation&&(await Ya(this.bgAnimationData.animatedElement),this.bgAnimationData.killAnimation()),ss(this.rootElement,{color:"#281D2C",onFilled:this.onStartCallback})}startListener(e){e instanceof KeyboardEvent&&e.code!=="Enter"||this.start()}async afterRender(){this.showHighScore(),this.mainThemeAudio=await le(ja,{loop:!0}),this.bgAnimationData=Ua(this.BG_ANIMATION_CONTAINER_SELECTOR),Ge?this.startListenerParams={eventName:"touchend",handler:this.startListener.bind(this)}:this.startListenerParams={eventName:"keydown",handler:this.startListener.bind(this)},window.addEventListener(this.startListenerParams.eventName,this.startListenerParams.handler)}onStart(e){this.onStartCallback=e}}const Qa=200,Ja="animation-stars-item",os=1.5,as=(u,t,e=!1)=>{const i=u.clientWidth,r=u.clientHeight;e&&(X.set(t,{opacity:0}),X.to(t,{opacity:.8,duration:os})),t.dataset.customClass?t.classList.add(t.dataset.customClass):t.className=Ja,X.set(t,{x:Ee(0,i),y:Ee(0,r),z:Ee(0,3e3)}),X.to(t,{z:3e3,duration:Ee(3,5),ease:"steps(50)",onComplete:()=>as(u,t)})},el=u=>{const t=document.querySelector(u);if(!t){const r=new Error("Container for tetris animation is not existing");console.error(r);return}t.style.perspective="3000px";const e=[];for(let r=0;r<Qa;r++){const s=document.createElement("div");e.push(s)}e.forEach(r=>{t.append(r),as(t,r,!0)});const i=r=>{e.forEach(s=>{s.dataset.customClass===r?delete s.dataset.customClass:s.dataset.customClass=r})};return new Promise(r=>{setTimeout(()=>r({toggleCustomClass:i}),os*1e3)})},qr={1:[[0,1,1,0],[1,1,1,0],[1,1,1,0],[0,1,1,0],[0,1,1,0],[0,1,1,0],[0,1,1,0],[0,1,1,0],[1,1,1,1],[1,1,1,1]],2:[[0,0,1,1,1,0],[0,1,1,1,1,1],[1,1,0,0,0,1],[0,0,0,0,1,1],[0,0,0,1,1,0],[0,0,1,1,0,0],[0,1,1,0,0,0],[0,1,0,0,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1]],3:[[0,0,1,1,0,0],[0,1,1,1,1,0],[1,1,0,0,1,1],[0,0,0,0,1,1],[0,0,1,1,1,0],[0,0,1,1,1,0],[0,0,0,0,1,1],[1,1,0,0,1,1],[0,1,1,1,1,0],[0,0,1,1,0,0]]},Ur={[xe.L]:[[0,0,1],[1,1,1]],[xe.O]:[[1,1],[1,1]],[xe.S]:[[0,1,1],[1,1,0]],[xe.T]:[[0,1,0],[1,1,1]],[xe.J]:[[1,0,0],[1,1,1]],[xe.I]:[[1,1,1,1]],[xe.Z]:[[1,1,0],[0,1,1]]},At=u=>new Promise(t=>{const e=X.timeline();e.set(u,{opacity:0}),e.to(u,{delay:.1,opacity:1,boxShadow:"0 0 0 10px #fff",ease:"steps(5)",duration:.3}),e.to(u,{boxShadow:"none",ease:"steps(5)",duration:.1,onComplete:t})}),pr=u=>new Promise(t=>{X.set(u,{transform:"scale(0)"}),X.to(u,{transform:"scale(1)",ease:"steps(20)",duration:1.2,onComplete:t})}),tl=async u=>new Promise(t=>{X.set(u,{duration:.02,backgroundColor:"#fff"}),X.to(u,{duration:.05,opacity:0,yoyo:!0,repeat:3,onComplete:()=>{X.set(u,{clearProps:"all"}),t(!0)}})}),ki=(u,t)=>new Promise(e=>{X.timeline().fromTo(u,{opacity:t!=null&&t.reversed?0:1},{opacity:t!=null&&t.reversed?1:0,position:t!=null&&t.reversed?"":"absolute",onComplete:e,duration:.5})}),il="/retro-tetris/assets/game-theme-HIWvpUUz.mp3",rl="/retro-tetris/assets/timer-XoONSLHb.mp3",nl="/retro-tetris/assets/row-filled-Wxf3gD7D.mp3",sl="/retro-tetris/assets/drop-block-IBihn848.mp3",ol="/retro-tetris/assets/pause-sX-hkoWi.mp3";class al extends ji{constructor(){super({templateSelector:"#game-screen-game-container"});k(this,"PLAYFIELD_SELECTOR","#game-screen-playfield");k(this,"SCORE_SELECTOR","#game-screen-score");k(this,"LEVEL_SELECTOR","#game-screen-level");k(this,"LINES_SELECTOR","#game-screen-lines");k(this,"NEXT_BLOCK_SELECTOR","#game-screen-next");k(this,"MOBILE_PAUSE_BUTTON_SELECTOR","#game-screen-mobile-pause-btn");k(this,"MOBILE_CONTROLS_SELECTOR","#game-screen-mobile-controls");k(this,"playfieldElement");k(this,"scoreElement");k(this,"levelElement");k(this,"linesElement");k(this,"nextBlockElement");k(this,"mobilePauseButtonElement");k(this,"mobileControlsElement");k(this,"PLAYFIELD_WIDTH",10);k(this,"PLAYFIELD_HEIGHT",20);k(this,"INITIAL_BLOCK_MOVE_SPEED",1e3);k(this,"playfieldState");k(this,"activeBlockData");k(this,"scoreValue",0);k(this,"linesValue",0);k(this,"levelValue",1);k(this,"nextBlockTypeValue");k(this,"moveActiveBlockDownInterval");k(this,"moveActiveBlockListenerParams");k(this,"pauseListenerParams");k(this,"gameOverCallback");k(this,"pauseCallback");k(this,"gameThemeAudio")}setGameElements(){this.playfieldElement=this.rootElement.querySelector(this.PLAYFIELD_SELECTOR),this.scoreElement=this.rootElement.querySelector(this.SCORE_SELECTOR),this.levelElement=this.rootElement.querySelector(this.LEVEL_SELECTOR),this.linesElement=this.rootElement.querySelector(this.LINES_SELECTOR),this.nextBlockElement=this.rootElement.querySelector(this.NEXT_BLOCK_SELECTOR),this.mobilePauseButtonElement=this.rootElement.querySelector(this.MOBILE_PAUSE_BUTTON_SELECTOR),this.mobileControlsElement=this.rootElement.querySelector(this.MOBILE_CONTROLS_SELECTOR)}async showInitialAnimations(){await pr(this.playfieldElement),await At(this.scoreElement),await At(this.levelElement),await At(this.linesElement),await At(this.nextBlockElement),Ge&&(await At(this.mobilePauseButtonElement),await ki(this.mobileControlsElement,{reversed:!0}))}get score(){return this.scoreValue}set score(e){this.scoreValue=e,this.scoreElement.style.cssText+=`--value: '${e}'`}get lines(){return this.linesValue}set lines(e){this.linesValue=e,this.linesElement.style.cssText+=`--value: '${e}'`}get level(){return this.levelValue}set level(e){this.levelValue=e,this.levelElement.style.cssText+=`--value: '${e}'`}get nextBlockType(){return this.nextBlockTypeValue||this.getRandomBlockType()}set nextBlockType(e){this.nextBlockTypeValue=e,this.renderNextBlockType()}renderNextBlockType(){const e=Ur[this.nextBlockType],r=this.nextBlockElement.querySelector("table").tBodies[0];r.innerHTML="",e.forEach(s=>{const o=document.createElement("tr");s.forEach(l=>{const c=document.createElement("td");l&&(c.className=this.nextBlockType),o.append(c)}),r.append(o)})}resetPlayfieldState(){const e=[];for(let i=0;i<this.PLAYFIELD_HEIGHT;i++){const r=new Array(this.PLAYFIELD_WIDTH).fill(null);e.push(r)}this.playfieldState=e}fillPlayfield(){const e=document.createElement("tbody");this.playfieldState.forEach(i=>{const r=document.createElement("tr");i.forEach(()=>{const s=document.createElement("td");r.append(s)}),e.append(r)}),this.playfieldElement.innerHTML="",this.playfieldElement.append(e)}renderPlayfieldState(){this.playfieldState.forEach((e,i)=>{e.forEach((r,s)=>{r?this.playfieldElement.rows[i].cells[s].className=r.type:this.playfieldElement.rows[i].cells[s].className=""})})}async startTimer(){return new Promise(e=>{const i=Object.keys(qr).length;let r=i;const s=setInterval(()=>{if(this.resetPlayfieldState(),r===i&&le(rl),r===0)return clearInterval(s),this.renderPlayfieldState(),e(!0);const o=qr[r],l=o.length,c=o[0].length,f=Math.floor((this.PLAYFIELD_HEIGHT-l)/2),d=Math.floor((this.PLAYFIELD_WIDTH-c)/2);o.forEach((n,a)=>{const h=f+a;n.forEach((p,_)=>{const m=d+_;p&&(this.playfieldState[h][m]={id:0,type:xe.O})})}),this.renderPlayfieldState(),r--},1e3)})}getRandomBlockType(){return Ee(Object.values(xe))}createUniqBlockId(){const e=Math.round(Math.random()*1e5);return this.playfieldState.some(r=>r.some(s=>(s==null?void 0:s.id)===e))?this.createUniqBlockId():e}removeBlockFromPlayfieldState(e){this.playfieldState.forEach((i,r)=>{i.forEach((s,o)=>{s&&s.id===e&&(this.playfieldState[r][o]=null)})})}rerenderActiveBlock(){this.removeBlockFromPlayfieldState(this.activeBlockData.id),this.activeBlockData.matrix.forEach((e,i)=>{this.activeBlockData.y+i<0||e.forEach((s,o)=>{const l=this.playfieldState[this.activeBlockData.y+i];s&&l&&(l[this.activeBlockData.x+o]={id:this.activeBlockData.id,type:this.activeBlockData.type})})}),this.renderPlayfieldState()}checkIsActiveBlockStuck(){const e=this.activeBlockData.matrix.length;return this.activeBlockData.y+e===this.PLAYFIELD_HEIGHT?!0:this.activeBlockData.matrix.some((o,l)=>o.some((c,f)=>{var h;if(!c)return;const d=this.activeBlockData.y+l+1,n=this.activeBlockData.x+f,a=(h=this.playfieldState[d])==null?void 0:h[n];if(a&&a.id!==this.activeBlockData.id)return!0}))}addScoresForFilledRows(e){switch(e){case 1:this.score+=100;break;case 2:this.score+=300;break;case 3:this.score+=500;break;case 4:this.score+=800;break}}calculateNewLevelSpeed(e){return 1e3/(1+.3*e)}checkLevelUp(){const e=Math.floor(this.lines/10)+1;if(e>this.level&&e<=10){const r=this.calculateNewLevelSpeed(e);clearInterval(this.moveActiveBlockDownInterval),this.level=e,this.setMoveActiveBlockDownInterval(r)}}updateHighScore(){const e=localStorage.getItem("high-score");this.score>Number(e)&&localStorage.setItem("high-score",String(this.score))}onGameOver(e){this.gameOverCallback=e}async gameOver(){this.updateHighScore(),localStorage.setItem("last-score",String(this.score)),this.score=0,this.lines=0,this.level=1,this.gameThemeAudio.stop(),clearInterval(this.moveActiveBlockDownInterval),window.removeEventListener(this.moveActiveBlockListenerParams.eventName,this.moveActiveBlockListenerParams.handler),window.removeEventListener(this.pauseListenerParams.eventName,this.pauseListenerParams.handler),this.gameOverCallback&&this.gameOverCallback()}async removeFilledRows(){const e=this.playfieldState.reduce((r,s,o)=>(s.every(c=>c)&&r.push(o),r),[]);if(e.length===0)return;le(nl);const i=e.map(r=>{const s=this.playfieldElement.rows[r];return[].map.call(s.cells,o=>tl(o))});await Promise.all(i.flat()),e.forEach(r=>{this.playfieldState.splice(r,1);const s=new Array(this.PLAYFIELD_WIDTH).fill(null);this.playfieldState.unshift(s)}),this.renderPlayfieldState(),this.addScoresForFilledRows(e.length),this.lines+=e.length,this.checkLevelUp()}async onBlockStuck(){if(this.activeBlockData.y<0)return this.gameOver(),!0;this.updateActiveBlock(),await this.removeFilledRows()}async moveActiveBlockDown(){this.checkIsActiveBlockStuck()&&await this.onBlockStuck()||(this.removeBlockFromPlayfieldState(this.activeBlockData.id),this.activeBlockData.y++,this.rerenderActiveBlock())}moveActiveBlockLeft(){this.activeBlockData.x===0||this.activeBlockData.matrix.some((i,r)=>{var l;const s=i.findIndex(c=>!!c),o=this.activeBlockData.x+s-1;return(l=this.playfieldState[this.activeBlockData.y+r])==null?void 0:l[o]})||(this.removeBlockFromPlayfieldState(this.activeBlockData.id),this.activeBlockData.x--,this.rerenderActiveBlock())}moveActiveBlockRight(){const e=this.activeBlockData.matrix[0].length,i=this.PLAYFIELD_WIDTH-e;this.activeBlockData.x===i||this.activeBlockData.matrix.some((s,o)=>{var f;const l=s.findLastIndex(d=>!!d),c=this.activeBlockData.x+l+1;return(f=this.playfieldState[this.activeBlockData.y+o])==null?void 0:f[c]})||(this.activeBlockData.x++,this.rerenderActiveBlock())}rotateActiveBlock(){const e=this.activeBlockData.matrix[0].map((l,c)=>this.activeBlockData.matrix.map(f=>f[c]).reverse()),i=e[0].length,r=this.activeBlockData.x+i>this.PLAYFIELD_WIDTH;let s=this.activeBlockData.x;r&&(s=this.PLAYFIELD_WIDTH-i),!e.some((l,c)=>l.some((f,d)=>{var p;const n=c+this.activeBlockData.y;if(n>this.PLAYFIELD_HEIGHT-1)return!0;const a=d+s,h=(p=this.playfieldState[n])==null?void 0:p[a];return h?h.id!==this.activeBlockData.id:!1}))&&(this.activeBlockData.x=s,this.activeBlockData.matrix=e,this.rerenderActiveBlock())}dropActiveBlock(){let e=0;for(;;){if(this.checkIsActiveBlockStuck()){this.onBlockStuck();break}le(sl,{volume:.2}),this.moveActiveBlockDown(),e++}this.score+=e}moveOnKeyDown({code:e}){switch(e){case"ArrowDown":this.moveActiveBlockDown(),this.score++;break;case"ArrowLeft":this.moveActiveBlockLeft();break;case"ArrowRight":this.moveActiveBlockRight();break;case"ArrowUp":this.rotateActiveBlock();break;case"Space":this.dropActiveBlock();break}}moveOnControlsClick({target:e}){const i=e.closest("button");if(i)switch(i.id){case"rotate-btn":this.rotateActiveBlock();break;case"left-btn":this.moveActiveBlockLeft();break;case"right-btn":this.moveActiveBlockRight();break;case"down-btn":this.dropActiveBlock();break}}updateActiveBlock(){const e=this.nextBlockType,i=Ur[e],r=i[0].length,o=-i.length,l=Math.floor((this.PLAYFIELD_WIDTH-r)/2);this.activeBlockData={id:this.createUniqBlockId(),type:e,x:l,y:o,matrix:structuredClone(i)},this.nextBlockType=this.getRandomBlockType()}setMoveActiveBlockDownInterval(e=this.INITIAL_BLOCK_MOVE_SPEED){this.moveActiveBlockDownInterval=setInterval(()=>{this.moveActiveBlockDown()},e)}initActiveBlockMovement(){this.setMoveActiveBlockDownInterval(),Ge?this.moveActiveBlockListenerParams={eventName:"click",handler:this.moveOnControlsClick.bind(this)}:this.moveActiveBlockListenerParams={eventName:"keydown",handler:this.moveOnKeyDown.bind(this)},window.addEventListener(this.moveActiveBlockListenerParams.eventName,this.moveActiveBlockListenerParams.handler)}async hideContainer(){await ki(this.rootElement)}async showContainer(){await ki(this.rootElement,{reversed:!0})}onPause(e){this.pauseCallback=e}async resume(){this.gameThemeAudio.play(),await this.showContainer(),this.initActiveBlockMovement(),this.initPauseListener()}async pause(){this.gameThemeAudio.pause(),le(ol),window.clearInterval(this.moveActiveBlockDownInterval),window.removeEventListener(this.moveActiveBlockListenerParams.eventName,this.moveActiveBlockListenerParams.handler),window.removeEventListener(this.pauseListenerParams.eventName,this.pauseListenerParams.handler),await this.hideContainer(),this.pauseCallback()}async pauseOnEsc({code:e}){e==="Escape"&&await this.pause()}async pauseOnBtnClick({target:e}){e.closest(this.MOBILE_PAUSE_BUTTON_SELECTOR)&&await this.pause()}initPauseListener(){Ge?this.pauseListenerParams={eventName:"click",handler:this.pauseOnBtnClick.bind(this)}:this.pauseListenerParams={eventName:"keydown",handler:this.pauseOnEsc.bind(this)},window.addEventListener(this.pauseListenerParams.eventName,this.pauseListenerParams.handler)}start(){this.updateActiveBlock(),this.initActiveBlockMovement()}async afterRender(){this.resetPlayfieldState(),this.setGameElements(),this.fillPlayfield(),this.gameThemeAudio=await le(il,{loop:!0}),await this.showInitialAnimations(),await this.startTimer(),this.start(),this.initPauseListener()}}const ll="/retro-tetris/assets/game-over-s0-34NFz.mp3",ls="/retro-tetris/assets/play-kpWX5Ww3.mp3";class ul extends ji{constructor(){super({templateSelector:"#game-screen-game-over",title:"Game Over"});k(this,"SCORE_CONTAINER_SELECTOR","#game-screen-game-over-score");k(this,"MENU_SELECTOR","#game-screen-game-over-menu");k(this,"MENU_ITEM_ACTIVE_CLASS","active");k(this,"menuListenerParams");k(this,"playAgainCallback");k(this,"quitCallback")}setScore(){const e=this.rootElement.querySelector(this.SCORE_CONTAINER_SELECTOR),i=localStorage.getItem("last-score");e.innerHTML=`<b>Score:</b> ${i}`}playAgain(){le(ls),this.playAgainCallback()}onKeyDown({code:e}){const i=this.rootElement.querySelector(this.MENU_SELECTOR),[r,s]=i.querySelectorAll("li");switch(e){case"ArrowLeft":r.classList.add(this.MENU_ITEM_ACTIVE_CLASS),s.classList.remove(this.MENU_ITEM_ACTIVE_CLASS);break;case"ArrowRight":s.classList.add(this.MENU_ITEM_ACTIVE_CLASS),r.classList.remove(this.MENU_ITEM_ACTIVE_CLASS);break;case"Enter":r.classList.contains(this.MENU_ITEM_ACTIVE_CLASS)?this.playAgain():(window.removeEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler),this.quitCallback())}}onClick({target:e}){const i=e.closest("button");if(i)switch(i.id){case"yes-btn":this.playAgain();break;case"no-btn":window.removeEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler),this.quitCallback();break}}initKeydownListener(){Ge?this.menuListenerParams={eventName:"click",handler:this.onClick.bind(this)}:this.menuListenerParams={eventName:"keydown",handler:this.onKeyDown.bind(this)},window.addEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler)}onPlayAgain(e){this.playAgainCallback=e}onQuit(e){this.quitCallback=e}beforeRemove(){window.removeEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler)}async afterRender(){le(ll),this.setScore(),await pr(this.rootElement),this.initKeydownListener()}}class cl extends ji{constructor(){super({templateSelector:"#game-screen-pause",title:"Paused"});k(this,"MENU_SELECTOR","#game-screen-pause-menu");k(this,"MENU_ITEM_ACTIVE_CLASS","active");k(this,"menuListenerParams");k(this,"resumeCallback");k(this,"quitCallback")}resume(){le(ls),this.resumeCallback()}onKeyDown({code:e}){const i=this.rootElement.querySelector(this.MENU_SELECTOR),[r,s]=i.querySelectorAll("li");switch(e){case"Escape":this.resume();break;case"ArrowUp":r.classList.add(this.MENU_ITEM_ACTIVE_CLASS),s.classList.remove(this.MENU_ITEM_ACTIVE_CLASS);break;case"ArrowDown":s.classList.add(this.MENU_ITEM_ACTIVE_CLASS),r.classList.remove(this.MENU_ITEM_ACTIVE_CLASS);break;case"Enter":r.classList.contains(this.MENU_ITEM_ACTIVE_CLASS)?this.resume():(window.removeEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler),this.quitCallback())}}onClick({target:e}){const i=e.closest("button");if(i)switch(i.id){case"resume-btn":this.resume();break;case"quit-btn":this.quitCallback();break}}initKeydownListener(){Ge?this.menuListenerParams={eventName:"click",handler:this.onClick.bind(this)}:this.menuListenerParams={eventName:"keydown",handler:this.onKeyDown.bind(this)},window.addEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler)}onResume(e){this.resumeCallback=e}onQuit(e){this.quitCallback=e}async afterRender(){await pr(this.rootElement),this.initKeydownListener()}beforeRemove(){window.removeEventListener(this.menuListenerParams.eventName,this.menuListenerParams.handler)}afterRemove(){this.title="",this.setDocumentTitle()}}class fl extends ui{constructor(){super({templateSelector:"#game-screen"});k(this,"BG_ANIMATION_CONTAINER_SELECTOR","#game-screen-animated-bg");k(this,"gameContainer",new al);k(this,"gameOverContainer",new ul);k(this,"pauseContainer",new cl);k(this,"starsBgAnimationSettings");k(this,"quitCallback");this.init()}onGameOver(){this.rootElement.style.backgroundColor="#000",this.starsBgAnimationSettings.toggleCustomClass("scull"),this.gameContainer.remove(),this.gameOverContainer.render(this.rootElement)}onPause(){this.rootElement.style.backgroundColor="#1e2b1d",this.starsBgAnimationSettings.toggleCustomClass("pause"),this.pauseContainer.render(this.rootElement)}playAgain(){this.gameOverContainer.remove(),this.rootElement.style.backgroundColor="",this.starsBgAnimationSettings.toggleCustomClass("scull"),setTimeout(()=>this.gameContainer.render(this.rootElement),500)}resume(){this.pauseContainer.remove(),this.rootElement.style.backgroundColor="",this.starsBgAnimationSettings.toggleCustomClass("pause"),setTimeout(()=>this.gameContainer.resume(),500)}quit(){this.quitCallback&&this.quitCallback()}init(){this.gameContainer.onGameOver(()=>this.onGameOver()),this.gameContainer.onPause(()=>this.onPause()),this.gameOverContainer.onPlayAgain(()=>this.playAgain()),this.gameOverContainer.onQuit(()=>this.quit()),this.pauseContainer.onQuit(()=>this.quit()),this.pauseContainer.onResume(()=>this.resume())}onQuit(e){this.quitCallback=e}afterRender(){setTimeout(async()=>{this.starsBgAnimationSettings=await el(this.BG_ANIMATION_CONTAINER_SELECTOR),this.gameContainer.render(this.rootElement)},500)}}const hl="/retro-tetris/assets/monitor-on-FHjmfAUQ.mp3",_l="animation-turn-on-overlay",dl="animation-turn-on-flash",pl=u=>{const t=document.querySelector(u);if(!t){const r=new Error("Container for turn-on animation is not existing");console.error(r);return}const e=document.createElement("div");e.className=_l,t.append(e);const i=document.createElement("div");return i.className=dl,t.append(i),new Promise(r=>{const s=X.timeline();le(hl),s.to(i,{duration:.2,width:"100%",height:"2px",ease:"power2.out"}).to(i,{duration:.3,height:"100%",ease:"power2.out",onComplete:()=>{e.remove(),r(!0)}}).to(i,{duration:.2,background:"transparent",ease:"power4.out",onComplete:()=>{i.remove(),s.kill()}})})};class ml{constructor(){k(this,"CONTAINER_SELECTOR","#tetris");k(this,"container",document.querySelector(this.CONTAINER_SELECTOR));k(this,"loadingScreen",new Us);k(this,"startScreen",new Za);k(this,"gameScreen",new fl);this.init()}async init(){this.loadingScreen.onContinue(async()=>{this.loadingScreen.remove(),await pl(this.CONTAINER_SELECTOR),this.startScreen.render(this.container)}),this.startScreen.onStart(()=>{this.startScreen.remove(),this.gameScreen.render(this.container)}),this.gameScreen.onQuit(async()=>{await ss(this.container,{color:"#112336",onFilled:()=>this.gameScreen.remove()}),this.startScreen.render(this.container)}),await this.loadingScreen.render(this.container)}}new ml;
